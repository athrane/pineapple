<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 13 Apr 2017
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Allan Thrane Andersen" />
    <meta name="Date-Revision-yyyymmdd" content="20170413" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Pineapple Project - Architecture description</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
              <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28287414-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Pineapple Project</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../index.html" title="Pineapple Home">
        Pineapple Home</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Architecture description</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 13 Apr 2017</li> 
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Overview</li>
                                
      <li>
    
                          <a href="../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li>
    
                          <a href="../usage/installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="../usage/index.html" title="For Users">
          <i class="none"></i>
        For Users</a>
            </li>
                  
      <li>
    
                          <a href="../development/index.html" title="For Developers">
          <i class="none"></i>
        For Developers</a>
            </li>
                  
      <li>
    
                          <a href="../usage/terms.html" title="Terms and Conditions">
          <i class="none"></i>
        Terms and Conditions</a>
            </li>
                              <li class="nav-header">Clients</li>
                                
      <li>
    
                          <a href="../pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/index.html" title="Standalone Web Application">
          <i class="none"></i>
        Standalone Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-applications/pineapple-web-application/pineapple-web-application-war/index.html" title="Deployable Web Application">
          <i class="none"></i>
        Deployable Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-applications/pineapple-maven-plugin/index.html" title="Maven Plugin">
          <i class="none"></i>
        Maven Plugin</a>
            </li>
                              <li class="nav-header">Plugins</li>
                                
      <li>
    
                          <a href="../pineapple-plugins/pineapple-agent-plugin/index.html" title="Agent">
          <i class="none"></i>
        Agent</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-composite-execution-plugin/index.html" title="Composite Execution">
          <i class="none"></i>
        Composite Execution</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-ssh-plugin/index.html" title="SSH">
          <i class="none"></i>
        SSH</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-docker-plugin/index.html" title="Docker">
          <i class="none"></i>
        Docker</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-modules/pineapple-infrastructure-test-plugin/index.html" title="Infrastructure Test">
          <i class="none"></i>
        Infrastructure Test</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-fusion-middleware-installation-plugin/index.html" title="Fusion Middleware Installation">
          <i class="none"></i>
        Fusion Middleware Installation</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-weblogic-installation-plugin/index.html" title="WebLogic Installation">
          <i class="none"></i>
        WebLogic Installation</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-modules/pineapple-weblogic-deployment-plugin/index.html" title="WebLogic Deployment">
          <i class="none"></i>
        WebLogic Deployment</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-weblogic-scripting-tool-plugin/index.html" title="WebLogic Scripting Tool (WLST)">
          <i class="none"></i>
        WebLogic Scripting Tool (WLST)</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-modules/pineapple-weblogic-jmx-plugin/index.html" title="WebLogic JMX">
          <i class="none"></i>
        WebLogic JMX</a>
            </li>
                              <li class="nav-header">API's</li>
                                
      <li>
    
                          <a href="../pineapple-applications/pineapple-web-application/pineapple-web-application-war/usage/rest.html" title="REST">
          <i class="none"></i>
        REST</a>
            </li>
                  
      <li>
    
                          <a href="../development/plugin-framework.html" title="Plugin Framework">
          <i class="none"></i>
        Plugin Framework</a>
            </li>
                              <li class="nav-header">Additional Information</li>
                                
      <li>
    
                          <a href="http://pineapplesoftware.blogspot.com" class="externalLink" title="The Pineapple Project Blog">
          <i class="none"></i>
        The Pineapple Project Blog</a>
            </li>
                  
      <li>
    
                          <a href="http://exceptiontrail.blogspot.com" class="externalLink" title="Pineapple Exception Trail Blog">
          <i class="none"></i>
        Pineapple Exception Trail Blog</a>
            </li>
                              <li class="nav-header">Project Tools</li>
                                
      <li>
    
                          <a href="https://bintray.com/pineapple/maven/com.alpha.pineapple" class="externalLink" title="Downloads">
          <i class="none"></i>
        Downloads</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple/issues" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://pineapple.java.net/" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/guides/mini/guide-apt-format.html --><div class="section">
<h2>Architecture description<a name="Architecture_description"></a></h2>
<p>The architecture description contains these topics:</p>
<ul>
<li>Main components</li>
<li>Pineapple clients</li>
<li>Core component
<ul>
<li>Providing clients with dynamic updates about the execution of an operation</li>
<li>Extension points</li></ul></li>
<li>Plugin framework </li>
<li>Execution framework</li>
<li>REST API </li>
<li>Agent architecture.</li></ul>
<div class="section">
<h3>Main components<a name="Main_components"></a></h3><img src="../images/architectural-parts.jpg" alt="" />
<p>The architecture consists of three types of components:</p>
<ul>
<li><b>Pinapple clients</b> - a client component provides a user interface and invokes the core component.</li>
<li><b>Pinapple core component</b> - The core component implements functionality to orchestrate execution of operations on resources. </li>
<li><b>Pinapple plugins</b> - Each plugin provides access to an manageable resource.</li></ul></div>
<div class="section">
<h3>Pineapple clients<a name="Pineapple_clients"></a></h3>
<p>The purpose of a client is to provide a user interface and to invoke the core component to execute operations.</p>
<p>There are multiple types of available clients as shown by this illustration:</p><img src="../images/available-clients.jpg" alt="" />
<p>For more information about the available clients, please consult the <a href="./clients.html">Pineapple clients overview</a>.</p></div>
<div class="section">
<h3>Core component<a name="Core_component"></a></h3><img src="../images/core-component.jpg" alt="" />
<p>The core component is the entry point into Pineapple. The core component is used by creating an instance and then invoking operations which triggers the execution of zero or more plugins.</p>
<p>The core component supports three use cases:</p>
<ul>
<li><b>Initialization of the component.</b> The initialization takes place when a client creates a new instance of the core component and it readies it self for execution by loading all required configuration data.</li>
<li><b>Execution operation.</b> The execution takes place when the component is invoked by a client to execution an operation. </li>
<li><b>Register result listener.</b> The registration takes place when a client whishes to register itself to receive dynamic updates about the execution of an operation. </li></ul>
<p>For information about the usage of the core component from clients, please consult the <a href="../pineapple-modules/pineapple-core/usage/index.html">Core component usage documentation</a>. </p>
<p>For information about implementation of the supported use cases in the core component:</p>
<ul>
<li><a href="../pineapple-modules/pineapple-core/development/initialization.html">Initialization of the core component.</a></li>
<li><a href="../pineapple-modules/pineapple-core/development/execute-operation.html">Execute operation.</a></li>
<li><a href="../pineapple-modules/pineapple-core/development/register-listener.html">Register result listener.</a> </li></ul>
<div class="section">
<h4>Providing clients with dynamic updates about the execution of an operation<a name="Providing_clients_with_dynamic_updates_about_the_execution_of_an_operation"></a></h4>
<p>To provide clients with dynamic updates about how the execution of an operation proceeds, the core component implements the <i>publish subscribe pattern</i> which allows clients to register themselves to receive updates about the execution of an operation.</p>
<p>The pattern is implemented through the usage of an <b>result listerner</b> which has the role of subscriber. The listener is implemented by a client and registered with the core component. the core component has the role of publisher and will publish events during execution to all registered subscribers. </p>
<p>The events is implemented using the <b>execution framework</b> in the form of execution results. Each execution result documents how a particular part of the execution of an operation proceeds.</p>
<p>For detailed information about implementation of the execution framework, please consult the <a href="../pineapple-modules/pineapple-api/development/execution-framework.html">Execution framework reference</a> </p>
<p>For information about registration of a result listener, please consult the implementation documentation for <a href="../pineapple-modules/pineapple-core/development/register-listener.html">Register result listener.</a></p></div>
<div class="section">
<h4>Extension points<a name="Extension_points"></a></h4>
<p>The architecture defines two extension point where the functionality can be modified (besides plugins):</p>
<ul>
<li>Credential provider</li>
<li>Result listeners</li></ul>
<div class="section">
<h5>Credential provider <a name="Credential_provider"></a></h5>
<p>When the core component is invoked the client must supply a credential provider instance. The core component uses the provider to query for security information when accessing protected resources.</p></div>
<div class="section">
<h5>Result listeners<a name="Result_listeners"></a></h5>
<p>As described above, result listeners is part of the publish subscribe pattern to provide clients with dynamic runtime information about the execution of an operation. </p></div></div></div>
<div class="section">
<h3>Plugin framework<a name="Plugin_framework"></a></h3><img src="../images/plugin-framework.jpg" alt="" />
<p>Pineapple defines a small framework for implementation of new plugins. The purpose of the framework is make it easy to extend Pineapple with new functionality. A plugin extends Pineapple by providing access to one or more new resource types.</p>
<p>For detailed information about implementation of plugins, please consult the <a href="./plugin-framework.html">Plugin framework Reference</a>. </p></div>
<div class="section">
<h3>Execution framework<a name="Execution_framework"></a></h3>
<p>Pineapple defines an framework for monitoring and controlling the execution of operations. </p>
<p>The framework is very central to the architecture of Pineapple since all parts of project depends on it, including the clients, the core component and the plugins through the plugin framework. The purpose of the framework is:</p>
<ul>
<li>Control the execution of operations.</li>
<li>Gather runtime information about the execution of operations and commands.</li>
<li>Deliver the runtime information to clients in real time.</li></ul>
<p>For detailed information about implementation of the execution framework, please consult the <a href="../pineapple-modules/pineapple-api/development/execution-framework.html">Execution framework reference</a> </p></div>
<div class="section">
<h3>REST API <a name="REST_API"></a></h3>
<p>The web application implements a REST API which enable remote or headless usage of Pineapple. </p><img src="../images/web-application-architecture.jpg" alt="" />
<p>The GUI layer in the web application implement using the ZK framework uses the services defined in the REST API to invoke operations on the core component.</p>
<p>The REST API is used in the agent architecture to enable the communication on the agent side of things. </p>
<p>The services in the REST API uses the core component administration API to access the core component. The REST API is implemented using Spring Web MVC.</p></div>
<div class="section">
<h3>Agent architecture<a name="Agent_architecture"></a></h3>
<p>The agent architecture supports the usage of Pineapple in a distributed setting. It's done through the usage of the Pineapple binary in two different roles as either master or agent.</p>
<p>In the role as master, a Pineapple instance is used to start and orchestrate the execution of operations on any number of agents. In the role as agent, a Pineapple instance executes operations on behalf of the master and reports back the results.</p><img src="../images/agent-architecture-overview.jpg" alt="" />
<p>The two main components in the agent architecture are the agent plugin and the REST API which enables the communication between the master and agents. The agent plugin implements the master side of the agent architecture, where the plugin implements the functionality to start remote operations, communicate with agents and collect the results. The REST API implements the agent side of the agent architecture, where it is capable of receiving requests from the master, execute the request and report the results. </p>
<p>Through the distribution and operation of agents the functionality of all plugins can be used in a distributed setting.</p>
<p>It is recommend to use the standalone web client as a basis for agents. It is easier to distribute and configure because it comes with its own embedded web server. </p>
<p>The two main components in the agent architecture are the agent plugin and the REST API which enables the communication between the master and agents. The agent plugin implements the master side of the agent architecture, where the plugin implements the functionality to start remote operations, communicate with agents and collect the results. The REST API implements the agent side of the agent architecture, where it is capable of receiving requests from the master, execute the request and report the results. </p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2017.
          All Rights Reserved.      
                    
      </div>

                          
        
                </div>
    </footer>
  </body>
</html>
