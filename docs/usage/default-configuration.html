<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 15 Sep 2018
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Allan Thrane Andersen" />
    <meta name="Date-Revision-yyyymmdd" content="20180915" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Pineapple Project - Default Configuration</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
              <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28287414-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Pineapple Project</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../index.html" title="Pineapple Home">
        Pineapple Home</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Default Configuration</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 15 Sep 2018</li> 
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Overview</li>
                                
      <li>
    
                          <a href="../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li>
    
                          <a href="../usage/installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="../usage/index.html" title="For Users">
          <i class="none"></i>
        For Users</a>
            </li>
                  
      <li>
    
                          <a href="../development/index.html" title="For Developers">
          <i class="none"></i>
        For Developers</a>
            </li>
                  
      <li>
    
                          <a href="../usage/terms.html" title="Terms and Conditions">
          <i class="none"></i>
        Terms and Conditions</a>
            </li>
                              <li class="nav-header">Clients</li>
                                
      <li>
    
                          <a href="../pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/index.html" title="Standalone Web Application">
          <i class="none"></i>
        Standalone Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-applications/pineapple-web-application/pineapple-web-application-war/index.html" title="Deployable Web Application">
          <i class="none"></i>
        Deployable Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-applications/pineapple-maven-plugin/index.html" title="Maven Plugin">
          <i class="none"></i>
        Maven Plugin</a>
            </li>
                              <li class="nav-header">Plugins</li>
                                
      <li>
    
                          <a href="../pineapple-plugins/pineapple-agent-plugin/index.html" title="Agent">
          <i class="none"></i>
        Agent</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-composite-execution-plugin/index.html" title="Composite Execution">
          <i class="none"></i>
        Composite Execution</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-ssh-plugin/index.html" title="SSH">
          <i class="none"></i>
        SSH</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-plugins/pineapple-docker-plugin/index.html" title="Docker">
          <i class="none"></i>
        Docker</a>
            </li>
                  
      <li>
    
                          <a href="../pineapple-modules/pineapple-infrastructure-test-plugin/index.html" title="Infrastructure Test">
          <i class="none"></i>
        Infrastructure Test</a>
            </li>
                              <li class="nav-header">API's</li>
                                
      <li>
    
                          <a href="../pineapple-applications/pineapple-web-application/pineapple-web-application-war/usage/rest.html" title="REST">
          <i class="none"></i>
        REST</a>
            </li>
                  
      <li>
    
                          <a href="../development/plugin-framework.html" title="Plugin Framework">
          <i class="none"></i>
        Plugin Framework</a>
            </li>
                              <li class="nav-header">Additional Information</li>
                                
      <li>
    
                          <a href="http://pineapplesoftware.blogspot.com" class="externalLink" title="The Pineapple Project Blog">
          <i class="none"></i>
        The Pineapple Project Blog</a>
            </li>
                  
      <li>
    
                          <a href="http://exceptiontrail.blogspot.com" class="externalLink" title="Pineapple Exception Trail Blog">
          <i class="none"></i>
        Pineapple Exception Trail Blog</a>
            </li>
                              <li class="nav-header">Project Tools</li>
                                
      <li>
    
                          <a href="https://bintray.com/pineapple/maven/com.alpha.pineapple" class="externalLink" title="Downloads">
          <i class="none"></i>
        Downloads</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple/issues" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://athrane.github.io/pineapple/" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/guides/mini/guide-apt-format.html --><div class="section">
<h2>Default Configuration<a name="Default_Configuration"></a></h2>
<div class="section">
<h3>Purpose<a name="Purpose"></a></h3>
<p>When Pineapple is started, it determines whether configuration files exists. If no configuration files exists then the tool creates a <b>default configuration</b> which enables the tool to start and serves to illustrate the functionality of Pineapple through a set of examples.</p></div>
<div class="section">
<h3>Content of the default configuration<a name="Content_of_the_default_configuration"></a></h3>
<p>The default configuration consists of:</p>
<ul>
<li>The <a href="./runtime-directories.html">runtime directory structure</a> used by Pineapple.</li>
<li>The <a href="./configuration-environment.html">environment configuration</a> used by Pineapple. The environment configuration consist of the two configuration files used by Pineapple: 
<ul>
<li>Resources configuration - The configuration is located in the file <tt>${pineapple.home.dir}/conf/resources.xml</tt></li>
<li>Credential configuration - The configuration is located in the file <tt>${pineapple.home.dir}conf/credentials.xml</tt></li></ul></li>
<li>Example modules - The examples are located in the directory <tt>${pineapple.home.dir}/modules</tt> </li></ul></div>
<div class="section">
<h3>Defined environments<a name="Defined_environments"></a></h3>
<div class="section">
<h4>Approach to environment modeling in the default configuration<a name="Approach_to_environment_modeling_in_the_default_configuration"></a></h4>
<p>The generated <tt>resources.xml</tt> file defines environments which serves to illustrated the functionality of Pineapple through the included set of examples. </p>
<p>Usage of Pineapple in an typical organizational setting would contain a very different set of environments. In such a setting it would model a computing environment separated into a number of environments each of which serves to support different development activities or production. </p></div>
<div class="section">
<h4>Environments<a name="Environments"></a></h4>
<p>These environments are defined in the default configuration:</p>
<ul>
<li><b>*</b> - The wildcard environment to enable common functionality (e.g. plugins) in all environments.</li>
<li><b>local</b> - Environment to support execution of modules on a local host.</li>
<li><b>linux-pineapple-ci</b> - Environment which consist of several (Linux) hosts in a Vagrant network to support development and test of Pineapple.</li>
<li><b>linux-vagrant</b> - Example environment configured to consist of three Linux host in a Vagrant network to illustrate operations on multiple Linux nodes using various technologies and protocols.</li></ul></div>
<div class="section">
<h4>The wildcard environment<a name="The_wildcard_environment"></a></h4>
<p>The environment named * is interpreted by Pineapple as the wildcard environment. Any resource defined in this environment is available in all other named environments. Two resources are defined in the default configuration (in resources.xml) to illustrate this feature:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://pineapple.dev.java.net/ns/environment_1_0
    http://pineapple.dev.java.net/ns/environment_1_0.xsd&quot;&gt;
    &lt;environments&gt;
      &lt;environment description=&quot;Wildcard environment for definition of resources available in ALL evironments.&quot; id=&quot;*&quot;&gt;
          &lt;resources&gt;
              &lt;resource plugin-id=&quot;com.alpha.pineapple.plugin.net&quot; id=&quot;infrastructure-test&quot;/&gt;
              &lt;resource plugin-id=&quot;com.alpha.pineapple.plugin.composite-execution&quot; id=&quot;composite-execution&quot;/&gt;
          &lt;/resources&gt;
      &lt;/environment&gt;

      // other environments here 

    &lt;/environments&gt;
&lt;/configuration&gt; 
</pre></div>
<p>The <tt>infrastructure-test</tt> resource enables usage of the infrastructure test plugin in all environments.</p>
<p>The <tt>composite-execution</tt> resource enables usage of the composite execution plugin in all environments.</p></div>
<div class="section">
<h4>The linux-vagrant environment<a name="The_linux-vagrant_environment"></a></h4>
<p>The purpose of this environment is to define a multi-machine environment consisting of multiple Linux machines. The environment is used in examples which illustrates the usage of Pineapple where multiple machines are targeted by models.</p>
<p>A possible implementation for the <i>linux-vagrant</i> environment are three virtual machines running 64-bit Centos 6.3 (e.g with the public box <tt>CentOS-6.3-x86_64-minimal.box</tt> registered as <tt>centos63</tt> with Vagrant). </p>
<p>The environment is configured to use a private (e.g. host-only) network with a <tt>VagrantFile</tt> looking like:</p>
<div class="source">
<pre>  config.vm.define :node1 do |node1_config|
    node1_config.vm.box = &quot;centos63&quot;
        node1_config.vm.network :private_network, ip: &quot;192.168.34.10&quot;    
  end
 
  config.vm.define :node2 do |node2_config|
    node2_config.vm.box = &quot;centos63&quot;
        node2_config.vm.network :private_network, ip: &quot;192.168.34.11&quot;
  end
 
  config.vm.define :node3 do |node3_config|
    node3_config.vm.box = &quot;centos63&quot;
        node3_config.vm.network :private_network, ip: &quot;192.168.34.12&quot;  
  end  
</pre></div>
<p>The corresponding resource definitions (in resources.xml) for the SSH plugin looks like:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://pineapple.dev.java.net/ns/environment_1_0
    http://pineapple.dev.java.net/ns/environment_1_0.xsd&quot;&gt;
    &lt;environments&gt;

      // other environments here 

      &lt;environment description=&quot;Vagrant multi-machine Linux environment&quot; id=&quot;linux-vagrant&quot;&gt;
          &lt;resources&gt;
              &lt;resource plugin-id=&quot;com.alpha.pineapple.plugin.ssh&quot; credential-id-ref=&quot;ssh-node1&quot; id=&quot;ssh-node1&quot; &gt;
                  &lt;property value=&quot;92.168.34.10&quot; key=&quot;host&quot;/&gt;
                  &lt;property value=&quot;22&quot; key=&quot;port&quot;/&gt;
                  &lt;property value=&quot;1000&quot; key=&quot;timeout&quot;/&gt;
              &lt;/resource&gt;
              &lt;resource plugin-id=&quot;com.alpha.pineapple.plugin.ssh&quot; credential-id-ref=&quot;ssh-node2&quot; id=&quot;ssh-node2&quot; &gt;
                  &lt;property value=&quot;92.168.34.11&quot; key=&quot;host&quot;/&gt;
                  &lt;property value=&quot;22&quot; key=&quot;port&quot;/&gt;
                  &lt;property value=&quot;1000&quot; key=&quot;timeout&quot;/&gt;
              &lt;/resource&gt;
              &lt;resource plugin-id=&quot;com.alpha.pineapple.plugin.ssh&quot; credential-id-ref=&quot;ssh-node3&quot; id=&quot;ssh-node3&quot; &gt;
                  &lt;property value=&quot;92.168.34.12&quot; key=&quot;host&quot;/&gt;
                  &lt;property value=&quot;22&quot; key=&quot;port&quot;/&gt;
                  &lt;property value=&quot;1000&quot; key=&quot;timeout&quot;/&gt;
              &lt;/resource&gt;
          &lt;/resources&gt;
      &lt;/environment&gt;
    &lt;/environments&gt;
&lt;/configuration&gt; 
</pre></div>
<p>The corresponding credential definitions (in credentials.xml) looks like: </p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot;&gt;
    &lt;environments&gt;
        &lt;environment description=&quot;Vagrant multi-machine Linux environment&quot; id=&quot;linux-vagrant&quot;&gt;
            &lt;credentials&gt;
                &lt;credential password=&quot;vagrant&quot; user=&quot;vagrant&quot; id=&quot;ssh-node1&quot;/&gt;
                &lt;credential password=&quot;vagrant&quot; user=&quot;vagrant&quot; id=&quot;ssh-node2&quot;/&gt;
                &lt;credential password=&quot;vagrant&quot; user=&quot;vagrant&quot; id=&quot;ssh-node3&quot;/&gt;
            &lt;/credentials&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;     
&lt;/configuration&gt;
</pre></div>
<p>Each resource references a credential through the <tt>credential-id-ref</tt> attribute. The same ID are used for the resource and its referenced credential, e.g. the resource <tt>ssh-node1</tt> references the credential also named <tt>ssh-node1</tt>. </p>
<p>On a typical Vagrant box the default username and password is <tt>vagrant/vagrant</tt>. The default username/password is used to access the boxes, hence all the credentials are defined with <tt>vagrant/vagrant</tt> for SSH access. </p></div>
<div class="section">
<h4>The linux-pineapple-ci environment<a name="The_linux-pineapple-ci_environment"></a></h4>
<p>The purpose of this environment is twofold:</p>
<ul>
<li>To support development and test of Pineapple using Pineapple.</li>
<li>To illustrate the usage of Pineapple where multiple machines are targeted by models.</li></ul>
<p>The details of this environment can be found on the <a href="../development/test-infrastructure.html">Pineapple Continuous Integration page</a>.</p></div></div>
<div class="section">
<h3>Example modules<a name="Example_modules"></a></h3>
<p>Besides the environment configuration, a set of modules is created as part of the default configuration. All modules are created in the <i>Modules Directory</i> within the runtime directory structure.</p>
<p>Each module is complete, and is intended to serve as a running prototype without any further configuration. Included in each module is a README.txt which describe in detail what execution of the module will do, how it is executed and whether anything (like an installer from Oracle) should be added.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2018.
          All Rights Reserved.      
                    
      </div>

                          
        
                </div>
    </footer>
  </body>
</html>
