<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src\site\apt/usage\installation-linux.apt at 18 Feb 2019
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Allan Thrane Andersen" />
    <meta name="Date-Revision-yyyymmdd" content="20190218" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Pineapple standalone web client &#x2013; Installation of the Pineapple standalone web application on Linux</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script type="text/javascript" src="../js/apache-maven-fluido-1.7.min.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-28287414-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Pineapple standalone web client</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
      <li class=""><a href="../../../../index.html" title="Pineapple Home">Pineapple Home</a><span class="divider">/</span></li>
      <li class=""><a href="../../../index.html" title="Pineapple applications">Pineapple applications</a><span class="divider">/</span></li>
      <li class=""><a href="../../index.html" title="Pineapple web application">Pineapple web application</a><span class="divider">/</span></li>
      <li class=""><a href="../index.html" title="Pineapple standalone web client">Pineapple standalone web client</a><span class="divider">/</span></li>
    <li class="active ">Installation of the Pineapple standalone web application on Linux</li>
        <li id="publishDate" class="pull-right">Last Published: 18 Feb 2019</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Project Overview</li>
    <li><a href="../../../../index.html" title="Home"><span class="none"></span>Home</a></li>
    <li><a href="../../../../usage/installation.html" title="Installation"><span class="none"></span>Installation</a></li>
    <li><a href="../../../../usage/index.html" title="For Users"><span class="none"></span>For Users</a></li>
    <li><a href="../../../../development/index.html" title="For Developers"><span class="none"></span>For Developers</a></li>
    <li><a href="../../../../usage/terms.html" title="Terms and Conditions"><span class="none"></span>Terms and Conditions</a></li>
      <li class="nav-header">Clients</li>
    <li><a href="../../../../pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/index.html" title="Standalone Web Application"><span class="none"></span>Standalone Web Application</a></li>
    <li><a href="../../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/index.html" title="Deployable Web Application"><span class="none"></span>Deployable Web Application</a></li>
    <li><a href="../../../../pineapple-applications/pineapple-maven-plugin/index.html" title="Maven Plugin"><span class="none"></span>Maven Plugin</a></li>
      <li class="nav-header">Plugins</li>
    <li><a href="../../../../pineapple-plugins/pineapple-agent-plugin/index.html" title="Agent"><span class="none"></span>Agent</a></li>
    <li><a href="../../../../pineapple-plugins/pineapple-composite-execution-plugin/index.html" title="Composite Execution"><span class="none"></span>Composite Execution</a></li>
    <li><a href="../../../../pineapple-plugins/pineapple-ssh-plugin/index.html" title="SSH"><span class="none"></span>SSH</a></li>
    <li><a href="../../../../pineapple-plugins/pineapple-docker-plugin/index.html" title="Docker"><span class="none"></span>Docker</a></li>
    <li><a href="../../../../pineapple-modules/pineapple-infrastructure-test-plugin/index.html" title="Infrastructure Test"><span class="none"></span>Infrastructure Test</a></li>
      <li class="nav-header">API's</li>
    <li><a href="../../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/usage/rest.html" title="REST"><span class="none"></span>REST</a></li>
    <li><a href="../../../../development/plugin-framework.html" title="Plugin Framework"><span class="none"></span>Plugin Framework</a></li>
      <li class="nav-header">Additional Information</li>
    <li><a href="http://pineapplesoftware.blogspot.com" class="externalLink" title="The Pineapple Project Blog"><span class="none"></span>The Pineapple Project Blog</a></li>
    <li><a href="http://exceptiontrail.blogspot.com" class="externalLink" title="Pineapple Exception Trail Blog"><span class="none"></span>Pineapple Exception Trail Blog</a></li>
      <li class="nav-header">Project Tools</li>
    <li><a href="https://bintray.com/pineapple/maven/com.alpha.pineapple" class="externalLink" title="Downloads"><span class="none"></span>Downloads</a></li>
    <li><a href="https://github.com/athrane/pineapple" class="externalLink" title="Source Code"><span class="none"></span>Source Code</a></li>
    <li><a href="https://github.com/athrane/pineapple/issues" class="externalLink" title="Issue Tracker"><span class="none"></span>Issue Tracker</a></li>
      <li class="nav-header">Project Documentation</li>
    <li><a href="../project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
</ul>
          <hr />
          <div id="poweredBy">
    <script type="text/javascript">asyncJs( 'https://apis.google.com/js/plusone.js' )</script>
    <div class="g-plusone" data-href="https://athrane.github.io/pineapple/pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/" data-size="tall" ></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<div class="section">
<h2><a name="Installation_of_the_Pineapple_standalone_web_application_on_Linux"></a>Installation of the Pineapple standalone web application on Linux</h2>
<p>This guide describes how the Pineapple standalone web application is installed under Linux.</p>
<div class="section">
<h3><a name="Download_Pineapple"></a>Download Pineapple</h3>
<p>Download the client <tt>pineapple-standalone-web-client-VERSION.zip</tt> from the <b><a class="externalLink" href="https://bintray.com/pineapple/maven/com.alpha.pineapple">Downloads page</a></b>.</p></div>
<div class="section">
<h3><a name="Select_an_installation_type"></a>Select an installation type</h3>
<p>Pineapple can be installed in different ways to reflect different usage patterns:</p>
<ul>
<li><b>Simple installation.</b> This type of installation is intended for getting started with Pineapple or using it for prototyping or provisioning. Pineapple will be run under the installing user with default directories. Few (if any) configurations are required to complete this installation.</li>
<li><b>Installation as a service.</b> This type of installation is intended for creating a stable installation of Pineapple where the GUI is used or Pineapple is installed as an agent to conduct remote operations. Pineapple will be installed as a service running under a dedicated user and group. Pineapple will use directories common for services. This installation requires additional configurations.</li>
<li><b>Installation as a service with a customized setup</b>. This type of installation is intended for creating a stable installation of Pineapple where the GUI is used or Pineapple is installed as an agent to conduct remote operations. But with additional requirements to the configuration. Pineapple will be installed as a service running under a customized user and group setup. Pineapple will use customized directories. This installation will require the most configurations.</li></ul></div>
<div class="section">
<h3><a name="Simple_installation"></a>Simple installation</h3>
<p>Pineapple will be run under the installing user with default directories.</p>
<div class="section">
<h4><a name="Unpack_the_client"></a>Unpack the client </h4>
<p>Unzip <tt>pineapple-standalone-web-client-VERSION.zip</tt> to any directory. Some examples are:</p>
<ul>
<li><tt>/opt</tt> (the intended default)</li>
<li><tt>/home/${user}/</tt> </li>
<li><tt>/u01/app/alpha/product</tt> </li></ul></div>
<div class="section">
<h4><a name="The_Pineapple_installation_directory"></a>The Pineapple installation directory</h4>
<p>Once unpacked a directory named <tt>pineapple-standalone-web-client-VERSION</tt> is created. Example: <tt>/opt/pineapple-standalone-web-client-1.8.0</tt>. This directory is called the <b>Pineapple installation directory</b>, and referred to as <tt>PINEAPPLE_INSTALL_DIR</tt> in the remaining part of this guide.</p>
<p>The unzipped archive contains the directory layout:</p>
<div class="source"><pre class="prettyprint linenums">pineapple-standalone-web-client-VERSION
     |     
     +--- runPineapple.cmd
     +--- runPineapple.sh
     |
     +--- bin     
     |     +- create-runtime-dirs.sh
     |     +- install-service.sh                                                 
     |     +- pineapple-service.sh        
     |     +- setup.sh
     |     +- uninstall-service.sh                                               
     |     
     +--- conf     
     |     +--- log4j.properties
     |     `--- jetty.xml
     |               
     +--- webapps
     |     `--- pineapple-web-application-war.war
     |               
     +--- lib
           +--- pineapple-jetty-starter-1.0.jar
           +--- jetty-*.jar
           +--- log4j-*.jar
           `--- servlet-api-*.jar
</pre></div></div>
<div class="section">
<h4><a name="Make_Pineapple_executable"></a>Make Pineapple executable</h4>
<p>If the <tt>PINEAPPLE_INSTALL_DIR/runPineapple.sh</tt> isn't executable then:</p>
<ol style="list-style-type: decimal">
<li>Open a Linux terminal and change directory (CD) to the <tt>PINEAPPLE_INSTALL_DIR</tt> directory.</li>
<li>Execute: <tt>chmod +x ./runPineapple.sh</tt></li></ol></div>
<div class="section">
<h4><a name="Start_Pineapple"></a>Start Pineapple </h4>
<p>Execute <tt>PINEAPPLE_INSTALL_DIR/runPineapple.sh</tt> to start Pineapple.</p></div>
<div class="section">
<h4><a name="Creation_of_the_default_configuration"></a>Creation of the default configuration</h4>
<p>When Pineapple is started then it will look for configuration files in the <b><a href="../../../../usage/runtime-directories.html">Pineapple Home Directory.</a></b> If no configuration files are found then it will a create a <b><a href="../../../../usage/default-configuration.html">default configuration</a></b> which allows the application to start and provides a starting point to using the supplied examples.</p></div>
<div class="section">
<h4><a name="Ready_for_usage"></a>Ready for usage</h4>
<p>Now the application is installed and ready to be used. Pineapple is configured to listen on http://localhost:8080. The host and port are configured in the <tt>PINEAPPLE_INSTALL_DIR/runPineapple.sh</tt> script. </p></div></div>
<div class="section">
<h3><a name="Installation_as_a_service"></a>Installation as a service</h3>
<p>Pineapple will be installed as a service running under a default user and group. Pineapple will used directories common for services.</p>
<div class="section">
<h4><a name="Unpack_the_client"></a>Unpack the client </h4>
<p>Unzip <tt>pineapple-standalone-web-client-VERSION.zip</tt> to <tt>/opt</tt>.</p></div>
<div class="section">
<h4><a name="The_Pineapple_installation_directory"></a>The Pineapple installation directory</h4>
<p>Once unpacked a directory named <tt>pineapple-standalone-web-client-VERSION</tt> is created. Example: <tt>/opt/pineapple-standalone-web-client-1.8.0</tt>. This directory is called the <b>Pineapple installation directory</b>, and referred to as <tt>PINEAPPLE_INSTALL_DIR</tt> in the remaining part of this guide.</p>
<p>The unzipped archive contains the directory layout:</p>
<div class="source"><pre class="prettyprint linenums">pineapple-standalone-web-client-VERSION
     |     
     +--- runPineapple.cmd
     +--- runPineapple.sh
     |
     +--- bin     
     |     +- create-runtime-dirs.sh
     |     +- install-service.sh                                                 
     |     +- pineapple-service.sh        
     |     +- setup.sh
     |     +- uninstall-service.sh                                               
     |     
     +--- conf     
     |     +--- log4j.properties
     |     `--- jetty.xml
     |               
     +--- webapps
     |     `--- pineapple-web-application-war.war
     |               
     +--- lib
           +--- pineapple-jetty-starter-1.0.jar
           +--- jetty-*.jar
           +--- log4j-*.jar
           `--- servlet-api-*.jar
</pre></div></div>
<div class="section">
<h4><a name="Rename_the_installation_directory"></a>Rename the installation directory</h4>
<p>Rename the <tt>PINEAPPLE_INSTALL_DIR</tt> from <tt>pineapple-standalone-web-client-VERSION</tt> to <tt>pineapple</tt>:</p>
<p>Example:</p>
<div class="source"><pre class="prettyprint linenums">mv /opt/pineapple-standalone-web-client-VERSION /opt/pineapple
</pre></div></div>
<div class="section">
<h4><a name="Create_user_and_directories"></a>Create user and directories</h4>
<p>Pineapple contains a script called <tt>setup.sh</tt> which creates the default user and directory setup for Pineapple. The script creates the setup:</p>
<ul>
<li>Creates a <tt>pineapple</tt> group.</li>
<li>Creates a <tt>pineapple</tt> user which is member of the <tt>pineapple</tt> group.</li>
<li>Set permissions for the Pineapple installation directory <tt>/opt/pineapple</tt> to make it owned by <tt>pineapple:pineapple</tt> with file permissions 775.</li>
<li>Creates the Pineapple log directory <tt>/var/log/pineapple</tt>. </li>
<li>Makes <tt>PINEAPPLE_INSTALL_DIR/runPineapple.sh</tt> executable. </li></ul>
<p>Locate the script in the <tt>PINEAPPLE_INSTALL_DIR/bin</tt> directory, make it executable and and execute it as <tt>root</tt>:</p>
<div class="source"><pre class="prettyprint linenums">chmod +x /opt/pineapple/bin/setup.sh
/opt/pineapple/bin/setup.sh
</pre></div>
<p>If you require more information about the default setup or a customized setup, please follow these guidelines to <b><a href="../../../../usage/linux-users.html">Setup Linux users and directories for Pineapple clients.</a></b></p></div>
<div class="section">
<h4><a name="Creation_of_the_default_configuration_or_not.3F"></a>Creation of the default configuration or not?</h4>
<p>When Pineapple is started then it will look for configuration files in the <b><a href="../../../../usage/runtime-directories.html">Pineapple Home Directory.</a></b> If no configuration files are found then it will a create a <b><a href="../../../../usage/default-configuration.html">default configuration</a></b> which allows the application to start and provides a starting point to using the supplied examples.</p>
<div class="section">
<h5><a name="Configuring_Pineapple_to_use_the_default_configuration"></a>Configuring Pineapple to use the default configuration </h5>
<p>If you want to use the default configuration then skip to the next installation step (Install as a service).</p></div>
<div class="section">
<h5><a name="Configuring_Pineapple_to_use_a_provided_set_of_configuration_files"></a>Configuring Pineapple to use a provided set of configuration files</h5>
<p>If you do <b>not</b> want to use the default configuration but want configure Pineapple with your own configuration files, then Pineapple contains a script called <tt>create-runtime-dirs.sh</tt> which creates the runtime directories used by Pineapple:</p>
<ul>
<li>Creates the Pineapple home directory <tt>/var/pineapple</tt>. </li>
<li>Creates the Pineapple configuration directory <tt>/var/pineapple/conf</tt>. </li>
<li>Creates the Pineapple modules directory <tt>/var/pineapple/modules</tt>. </li>
<li>Creates the Pineapple reports directory <tt>/var/pineapple/reports</tt>. </li>
<li>Set permissions recursively for the Pineapple home directory <tt>/var/pineapple</tt> to make it owned by <tt>pineapple:pineapple</tt> with file permissions 775.</li></ul>
<p>Locate the script in the <tt>PINEAPPLE_INSTALL_DIR/bin</tt> directory, make it executable and execute it as <tt>root</tt>:</p>
<div class="source"><pre class="prettyprint linenums">chmod +x /opt/pineapple/bin/create-runtime-dirs.sh
/opt/pineapple/bin/create-runtime-dirs.sh
</pre></div>
<p>Then add your own configuration files into the <tt>/conf</tt>directory and set <tt>pineapple:pineapple</tt> as owner.</p></div></div>
<div class="section">
<h4><a name="Install_as_a_service"></a>Install as a service</h4>
<p>Pineapple contains a script called <tt>pineapple-service.sh</tt> which can be installed to run Pineapple as an OS service. Pineapple also contains a script called <tt>install-service.sh</tt> which can be used to install the service script. Locate the script in the <tt>PINEAPPLE_INSTALL_DIR/bin</tt> directory, make it executable and execute it as <tt>root</tt>:</p>
<div class="source"><pre class="prettyprint linenums">chmod +x /opt/pineapple/bin/install-service.sh
/opt/pineapple/bin/install-service.sh
</pre></div></div>
<div class="section">
<h4><a name="Ready_for_usage"></a>Ready for usage</h4>
<p>Now Pineapple is installed and started as a service running under the user <tt>pineapple:pineapple</tt>. Pineapple is configured to listen on http://0.0.0.0:7099. The host and port are configured in the <tt>etc/init.d/pineapple</tt> service script. The used user and group is also configurable in the service script.</p>
<p>The service will use <tt>/home/pineapple/.pineapple</tt> as the <b><a href="../../../../usage/runtime-directories.html">Pineapple Home Directory.</a></b> </p></div>
<div class="section">
<h4><a name="Control_the_service"></a>Control the service </h4>
<p>The service can be controlled with the commands:</p>
<div class="source"><pre class="prettyprint linenums">service pineapple start 
service pineapple status
service pineapple stop
service pineapple restart
</pre></div></div>
<div class="section">
<h4><a name="Some_service_runtime_information"></a>Some service runtime information</h4>
<p>The service script writes a PID file to <tt>/var/run/pineapple/pineapple.pid</tt> to capture its process ID.</p>
<p>The service script logs to <tt>/var/log/pineapple/pineapple-service.log</tt>.</p></div>
<div class="section">
<h4><a name="Uninstall_the_service"></a>Uninstall the service </h4>
<p>Pineapple contains a script called <tt>uninstall-service.sh</tt> which can be used to uninstall the service. Locate the script in the <tt>PINEAPPLE_INSTALL_DIR/bin</tt> directory, make it executable and execute it as <tt>root</tt>:</p>
<div class="source"><pre class="prettyprint linenums">chmod +x /opt/pineapple/bin/uninstall-service.sh
/opt/pineapple/bin/uninstall-service.sh
</pre></div></div></div>
<div class="section">
<h3><a name="Installation_as_a_service_with_a_customized_setup"></a>Installation as a service with a customized setup </h3>
<p>TODO: write... </p></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
Copyright (C) 2007-2017 Allan Thrane Andersen. All Rights Reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
