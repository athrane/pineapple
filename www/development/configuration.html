<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Pineapple project - Configuration overview</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
          <meta name="author" content="Allan Thrane Andersen" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dt>Project tools</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../servlets/ProjectMemberList">Membership</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectNewsList">Announcements</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectForumView">Discussion forums</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectDocumentList">Documents and files</a>
        </li>
              
    <li class="none">
              <a href="../source/browse/pineapple/">Subversion</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectIssues">Issue tracker</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project overview</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../index.html">Introduction</a>
        </li>
              
    <li class="none">
              <a href="../usage´/index.html">For users</a>
        </li>
              
    <li class="none">
              <a href="../development/index.html">For developers</a>
        </li>
              
    <li class="none">
              <a href="../faq.html">FAQ</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project Documentation</dt>
        <dd><ul>
              
                
              
      
              
        <li class="collapsed">
              <a href="../project-info.html">Project Information</a>
              </li>
              
                
              
      
              
        <li class="collapsed">
              <a href="../project-reports.html">Project Reports</a>
              </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Configuration overview</h2>
<p>Pineapple requires three sets of configuration data to run:</p>
<ul><li><b>Internal configuration:</b>
 Defines runtime behavior of the Pineapple components. </li>
<li><b>Environment configuration:</b>
 Definition of resources which constitutes the manageable parts of a JEE platform. </li>
<li><b>Module configuration:</b>
 Applications and configurations to create, manage and test a JEE platform by accessing resources. </li>
</ul>
<div class="section"><h3>Internal configuration</h3>
<p>The internal configuration files are used to configure the internal runtime behavior of the different components which constitutes the tool. Internal configuration data consists of:</p>
<ul><li><b>Configuration files for a single component:</b>
 The core component and the Swing client are examples of components which uses internal configuration files to configure themselves. Configuration files can be found in the <tt>src/main/resources</tt>
 folder of the component source. After the component is built the configuration files are packaged inside the JAR file which contains the component. </li>
<li><b>Chain catalog:</b>
 Components which implements Chain commands should define a catalog file in in <tt>src/main/resources</tt>
 folder of the component source. The purpose of the catalog file is to expose the commands to other projects. </li>
<li><b>Logging configuration:</b>
 The core component and all the plugins uses log4j for logging. Each pineapple client must provide a Log4j configuration which is accessible at runtime as a result of the build process. The core component or any of the plugins does not provide a Log4j configuration as part of their production build. </li>
</ul>
<p>A detailed list of internal configuration files are documented in the development documentation for each component.</p>
<p><b>Location of these files:</b>
<br />
Inside the jar that constitutes the component and accessible on the application class path.</p>
<p><b>Update frequency:</b>
<br />
These files only change with a new release of Pineapple.</p>
</div>
<div class="section"><h3>Environment configuration</h3>
<p>The environmental configuration files are used to define <b>resources</b>
 and required security credentials to access them. The notion of a resource is one of the three central concepts in Pineapple (plugins and modules being the other two). A resource is any manageable entity which is part of the JEE platform that the tool is used to manage. A resource can be anything as long as there can be written an API to interface the thing and manage it. Resources can be: operating systems, FTP-servers, JEE containers, load balancers... </p>
<div class="section"><h4>Definition of resources</h4>
<p>Resources are by default defined in a file named <tt>resources.xml</tt>
. The file contains all resources known by Pineapple. </p>
<p>The resources are grouped by environment as a similar resources often will exist in multiple computing environments. An example could be be the administration server for a WebLogic domain, where multiple domains can exists for different purposes, i.e. development, test, QA and production.</p>
<p>A resource is defined by four attributes:</p>
<ul><li><b>resource-identifier:</b>
 identifies the resource within an environment and is used to reference the resource from modules. </li>
<li><b>credential-identifier:</b>
 defines which security credential should be used to access the resource.</li>
<li><b>plugin-identifier:</b>
 factory class for the plugin which implements functionality to manage the resource.</li>
<li><b>properties:</b>
 plugin specific properties to connect to the resource. </li>
</ul>
<p>A schema is defined for the content of <tt>resources.xml</tt>
</p>
<ul><li><b>Security credentials</b>
: Defined in the file named <tt>credentials.xml</tt>
. The file contains security information for all manageable resources, i.e user-ID and password.</li>
</ul>
<p><b>Location of these files:</b>
<br />
A directory whose location is defined by a Pineapple client. Consult the documentation for the Pineapples clients for the exact location of the directory. The Swing client and the Maven 2.0 plugin both uses the directory <tt>${user.home}/.pineapple/conf</tt>
 as default directory for the environment configuration files. </p>
<p><b>Update frequency:</b>
<br />
These files change when an organization changes its platform environments or its security credentials.</p>
</div>
<div class="section"><h4>Implementation notes for developers </h4>
<p><b>Providing security credentials to the core component:</b>
 </p>
<p>A client is required to supply a CredentialProvider to create an instance of the core component. The credentials.xml file can be used if a client uses a file based credential provider. The file is loaded by a file-based credential provider prior to usage of the provider as parameter to <tt>ManagerImpl</tt>
 constructor.</p>
<p><b>Loading of resources by the core component:</b>
 </p>
<p>Loaded by core component (by the class <tt>ManagerImpl</tt>
) during its initialization. During execution of a management operation the resource configuration is held by the core component (by the class <tt>session manager</tt>
). </p>
</div>
</div>
<div class="section"><h3>Modules </h3>
<p>A module is the input used by Pineapple to execute operations. A modules is defined as a directory layout which is expected by the tool.</p>
<p>A module contains:</p>
<ul><li>The configuration data </li>
<li>The application which should be deployed by Pineapple.</li>
</ul>
<p>A module does not need to contain configuration data or an application. It depends on the purpose of the module. </p>
<p>If a module contains an application then it contains one version of the application which can be deployed into all environments that the application must be migrated through or used in.</p>
<p>If a module contains of configuration data then it contains a set of configuration data for each environment that the module is applied in. </p>
<p>It is possible to extend Maven 2.0 project to build modules for Pineapple. Instructions are provided which describes how to use the Maven Assembly plugin to create Pineapple modules.</p>
<p>The inspiration for modules comes from the <i>Split directory structure</i>
 which is described in the documentation for the WebLogic Server 9.2. </p>
<p><b>Location of these files:</b>
<br />
Provided locally as an directory structure or or loaded from Maven 2.x repository. </p>
<p><b>Update frequency:</b>
<br />
Each time a platform environment is changed or an application (and/or its configuration) is changed.</p>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2008
    
          
  

  
  
  &nbsp;| Last Published: 04 Nov 2008
  &nbsp;| Version: 1.0-SNAPSHOT
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
