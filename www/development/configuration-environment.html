<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>Pineapple project - Environment configuration design</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
          <meta name="author" content="Allan Thrane Andersen" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <!-- TODO: move this into JavaScript to patch the skin
      <div class="xright">  </div>
    -->
    <div id="leftColumn">
      <div id="navcolumn">
             <dl class=navgroup>
        <dt>Project tools</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../servlets/ProjectMemberList">Membership</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectNewsList">Announcements</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectForumView">Discussion forums</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectMailingListList">Mailing lists</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectDocumentList">Documents and files</a>
        </li>
              
    <li class="none">
              <a href="../source/browse/pineapple/">Subversion</a>
        </li>
              
    <li class="none">
              <a href="../servlets/ProjectIssues">Issue tracker</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project overview</dt>
        <dd><ul>
              
    <li class="none">
              <a href="../index.html">Introduction</a>
        </li>
              
    <li class="none">
              <a href="../usage´/index.html">For users</a>
        </li>
              
    <li class="none">
              <a href="../development/index.html">For developers</a>
        </li>
              
    <li class="none">
              <a href="../faq.html">FAQ</a>
        </li>
          </ul></dd>
    </dl>
      <dl class=navgroup>
        <dt>Project Documentation</dt>
        <dd><ul>
              
                
              
      
              
        <li class="collapsed">
              <a href="../project-info.html">Project Information</a>
              </li>
              
                
              
      
              
        <li class="collapsed">
              <a href="../project-reports.html">Project Reports</a>
              </li>
          </ul></dd>
    </dl>
        </div>
      <script>
        // replace the java.net project tools with the navigation bar from Maven.
        // also get rid of "Get Involved" thingie too, while we are at it
        var pt = document.getElementById("projecttools");
        var nv = document.getElementById("navcolumn");
        
        while(pt.previousSibling!=null)
          pt.parentNode.removeChild(pt.previousSibling);
        
        pt.parentNode.insertBefore(nv,pt);
        pt.parentNode.removeChild(pt);
      </script>
      <script>
        // kill "description" h3 bar
        var ld = document.getElementById("longdescription");
        if(ld!=null) {
          for( n=ld.firstChild; n!=null; n=n.nextSibling ) {
            if(n.nodeType==1 && n.innerHTML=="Description" ) {
              n.parentNode.removeChild(n);
              break;
            }
          }
        }
      </script>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Environment configuration</h2>
<p>Environment configuration data consists of:</p>
<ul><li>Definition of resources in <tt>resources.xml</tt>
</li>
<li>Definition of security credential in <tt>credentials.xml</tt>
</li>
</ul>
<div class="section"><h3>Define resource</h3>
<p>A <b>resource</b>
 defines how a managed resource is accessed in a computing environment. The resource in this case is a WebLogic administration server used for deployment and undeployment.</p>
<p>The resources are defined in the file <tt>${user.home}/.pineapple/conf/resources.xml</tt>
.</p>
<p>The resources are grouped by environment. The first step is define an environment in the <tt>resources.xml</tt>
 file. </p>
<p>Add a new <tt>environment</tt>
 definition with to the <tt>environments</tt>
 section in <tt>resources.xml</tt>
 file.</p>
<p>This example shows definition of an environment named <tt>localdomain:</tt>
 </p>
<div class="source"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;environments&gt;
    &lt;environment&gt;
      &lt;identifier&gt;localdomain&lt;/identifier&gt;
      &lt;resources/&gt;
    &lt;/environment&gt;
  &lt;/environments&gt;
&lt;/configuration&gt;</pre>
</div>
<p>Add a new <tt>resource</tt>
 to the selected environment in <tt>resources.xml</tt>
 file: </p>
<div class="source"><pre>&lt;configuration&gt;
  &lt;environments&gt;
    &lt;environment&gt;
      &lt;identifier&gt;localdomain&lt;/identifier&gt;
      &lt;resources&gt;
        ...
        ...
        &lt;resource&gt;
          &lt;identifier&gt;weblogic-deployment&lt;/identifier&gt;
          &lt;credential-identifier&gt;weblogic-deployment-credential&lt;/credential-identifier&gt;
          &lt;factory&gt;
            com.alpha.pineapple.plugin.weblogic.deployment.WeblogicDeploymentFactoryImpl
          &lt;/factory&gt;
          &lt;properties&gt;
            &lt;adminserver-protocol&gt;t3&lt;/adminserver-protocol&gt;                                     
            &lt;adminserver-listenaddress&gt;127.0.0.1&lt;/adminserver-listenaddress&gt;
            &lt;adminserver-listenport&gt;7001&lt;/adminserver-listenport&gt;                                       
          &lt;/properties&gt;
        &lt;/resource&gt;                                                                     
        ...
      &lt;/resources&gt;
    &lt;/environment&gt;              
  &lt;/environments&gt;
&lt;/configuration&gt;                                        </pre>
</div>
<p>Semantics of the resource elements:</p>
<p><b>identifier</b>
</p>
<p>Name of the resource in the current environment. TODO: Used in management data....</p>
<p><b>credential-identifier</b>
</p>
<p>Name of the credential which is used to lookup user name and password for this resource.</p>
<p><b>factory</b>
</p>
<p>Name of factory class which provides access to the plugin. When using the <b>WebLogic deployment plugin</b>
 the value of this element must be <tt>com.alpha.pineapple.plugin.weblogic.deployment.WeblogicDeploymentFactoryImpl</tt>
.</p>
<p><b>properties</b>
</p>
<p>Additional properties for the deployment plugin:</p>
<ul><li><b>adminserver-protocol</b>
 - defines the protocal to access the WebLogic administration server. Information about valid protocols can be found <a href="http://e-docs.bea.com/wls/docs92/deployment/wldeployer.html#wp1003708" class="externalLink">here</a>
.</li>
<li><b>adminserver-listenaddress</b>
 - defines the server listen address. </li>
<li><b>adminserver-listenport</b>
 - defines the server listen port.</li>
</ul>
</div>
<div class="section"><h3>Define credential </h3>
<p>A <b>credential</b>
 defines authentication information used to access a protected resource. The WebLogic administration server is a protected resource which is protected by a user-id/password. So a credential needs to be defined.</p>
<p>The credentials are defined in the file <tt>${user.home}/.pineapple/conf/credentials.xml</tt>
.</p>
<p>Credentials are grouped by environment the same way as resources are. The first step is define an environment in the <tt>credentials.xml</tt>
 file. </p>
<p>Add a new <tt>environment</tt>
 definition with the identifier <tt>localdomain</tt>
 to the <tt>environments</tt>
 section in <tt>credentials.xml</tt>
 file: </p>
<div class="source"><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
  &lt;environments&gt;
    &lt;environment&gt;
      &lt;identifier&gt;localdomain&lt;/identifier&gt;
      &lt;credentials&gt;
    &lt;/environment&gt;
  &lt;/environments&gt;
&lt;/configuration&gt;</pre>
</div>
<p>Add a new <tt>credential</tt>
 to the selected environment in <tt>credentials.xml</tt>
 file: </p>
<div class="source"><pre>&lt;configuration&gt;
  &lt;environments&gt;
    &lt;environment&gt;
      &lt;identifier&gt;localdomain&lt;/identifier&gt;
        ...
        ...
        &lt;credential&gt;
          &lt;identifier&gt;weblogic-deployment-credential&lt;/identifier&gt;
          &lt;user&gt;weblogic&lt;/user&gt;
          &lt;password&gt;weblogic&lt;/password&gt;
        &lt;/credential&gt;
        ...                             
      &lt;/credentials&gt;
    &lt;/environment&gt;              
  &lt;/environments&gt;
&lt;/configuration&gt;</pre>
</div>
<p><b>Notice:</b>
 The identifier <tt>weblogic-deployment-credential</tt>
 is referenced from the resource definition in the <tt>resources.xml</tt>
 file.</p>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2008
    
          
  

  
  
  &nbsp;| Last Published: 04 Nov 2008
  &nbsp;| Version: 1.0-SNAPSHOT
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
