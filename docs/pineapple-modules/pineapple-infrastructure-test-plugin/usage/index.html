<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 30 Mar 2018
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Allan Thrane Andersen" />
    <meta name="Date-Revision-yyyymmdd" content="20180330" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Pineapple infrastructure test plugin - Usage</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Pineapple infrastructure test plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../../../index.html" title="Pineapple Home">
        Pineapple Home</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../../" title="Pineapple modules">
        Pineapple modules</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../" title="Pineapple infrastructure test plugin">
        Pineapple infrastructure test plugin</a>
        </li>
      <li class="divider ">/</li>
        <li class="">Usage</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 30 Mar 2018</li> 
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Overview</li>
                                
      <li>
    
                          <a href="../../../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/index.html" title="For Users">
          <i class="none"></i>
        For Users</a>
            </li>
                  
      <li>
    
                          <a href="../../../development/index.html" title="For Developers">
          <i class="none"></i>
        For Developers</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/terms.html" title="Terms and Conditions">
          <i class="none"></i>
        Terms and Conditions</a>
            </li>
                              <li class="nav-header">Clients</li>
                                
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/index.html" title="Standalone Web Application">
          <i class="none"></i>
        Standalone Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/index.html" title="Deployable Web Application">
          <i class="none"></i>
        Deployable Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-maven-plugin/index.html" title="Maven Plugin">
          <i class="none"></i>
        Maven Plugin</a>
            </li>
                              <li class="nav-header">Plugins</li>
                                
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-agent-plugin/index.html" title="Agent">
          <i class="none"></i>
        Agent</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-composite-execution-plugin/index.html" title="Composite Execution">
          <i class="none"></i>
        Composite Execution</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-ssh-plugin/index.html" title="SSH">
          <i class="none"></i>
        SSH</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-docker-plugin/index.html" title="Docker">
          <i class="none"></i>
        Docker</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-modules/pineapple-infrastructure-test-plugin/index.html" title="Infrastructure Test">
          <i class="none"></i>
        Infrastructure Test</a>
            </li>
                              <li class="nav-header">API's</li>
                                
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/usage/rest.html" title="REST">
          <i class="none"></i>
        REST</a>
            </li>
                  
      <li>
    
                          <a href="../../../development/plugin-framework.html" title="Plugin Framework">
          <i class="none"></i>
        Plugin Framework</a>
            </li>
                              <li class="nav-header">Additional Information</li>
                                
      <li>
    
                          <a href="http://pineapplesoftware.blogspot.com" class="externalLink" title="The Pineapple Project Blog">
          <i class="none"></i>
        The Pineapple Project Blog</a>
            </li>
                  
      <li>
    
                          <a href="http://exceptiontrail.blogspot.com" class="externalLink" title="Pineapple Exception Trail Blog">
          <i class="none"></i>
        Pineapple Exception Trail Blog</a>
            </li>
                              <li class="nav-header">Project Tools</li>
                                
      <li>
    
                          <a href="https://bintray.com/pineapple/maven/com.alpha.pineapple" class="externalLink" title="Downloads">
          <i class="none"></i>
        Downloads</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple/issues" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://maven.apache.org" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/guides/mini/guide-apt-format.html --><div class="section">
<h2>Introduction<a name="Introduction"></a></h2>
<div class="section">
<h3>Overview<a name="Overview"></a></h3>
<div class="section">
<h4>Invoking the plugin<a name="Invoking_the_plugin"></a></h4>
<p>The plugin is invoked by the core component when the core component is used by one of the Pineapple clients. To trigger invocation by the core component the plugin needs to be configured. </p></div>
<div class="section">
<h4>Configuration<a name="Configuration"></a></h4><img src="../images/configure-plugin2.jpg" alt="" />
<p>Two steps are needed to configure the plugin:</p>
<ol style="list-style-type: decimal">
<li><a href="#Define_resource">Define resource:</a> Define resource which enables usage of the the plugin. For this particular plugin the resource doesn't define a manageable entity in some computing environment. </li>
<li><a href="#Define_the_module">Define the module</a> and add a model where the test cases can be defined. The test cases are used to test the configuration of IT a infrastructure:
<ul>
<li><a href="#Supported_test_cases">Supported test cases</a> which can test the configuration of IT infrastructure.</li>
<li>Test cases are defined using the <a href="#The_infrastructure_test_plugin_schema">Infrastructure test plugin schema</a>.</li>
<li><a href="#Support_for_HTTP_configuration_for_configuration_of_proxies_and_timeout">Support for configuration of the HTTP layer</a> in HTTP related test cases, which enables the configuration of proxy servers and timeout values. </li>
<li><a href="#Support_for_SSL_using_HTTPS_connections">Support for SSL using HTTPS connections</a> in HTTP related test cases.</li></ul>
<p>For more info about configuration of plugins:</p>
<ul>
<li>For info about <b>resources</b> and <b>credentials</b> read the <a href="../../../usage/configuration-environment.html">Environment configuration</a> document.</li>
<li>For info about <b>modules</b> and <b>module models</b> read the <a href="../../../usage/configuration-modules.html">Modules configuration</a> document.</li></ul></li></ol></div>
<div class="section">
<h4>Supported operations by the plugin <a name="Supported_operations_by_the_plugin"></a></h4>
<p>The plugin supports the default operations:</p>
<ul>
<li><b>test</b> </li></ul>
<p>For more information about the default operations, refer to the <a href="../../../usage/operations.html">Operation and workflow reference.</a></p></div>
<div class="section">
<h4>Execution of the test operation<a name="Execution_of_the_test_operation"></a></h4>
<p>When the plugin is invoked with this operation and a module model which contains entities defined by the plugin schema then the plugin will:</p>
<ul>
<li>Execute each of the defined test cases in turn. The test cases are grouped by type and executed. </li></ul></div></div>
<div class="section">
<h3><a name="Define_resource">Define resource</a></h3>
<p>The purpose of defining a resource for this plugin is to define a mapping between the resource ID and the plugin ID. The resource ID is the user defined key which is referenced from module models which are targeting the resource. The plugin ID is the Java package name which implements the plugin: <tt>com.alpha.pineapple.plugin.net</tt>.</p>
<p>To define a new resource, add a <tt>resource</tt> element to the target environment in the configuration file <tt>${pineapple.home.dir}/conf/resources.xml</tt>:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot; 
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
  
  &lt;environments&gt;
    &lt;environment id=&quot;local&quot; &gt;
      &lt;resources&gt;
        &lt;resource id=&quot;infrastructure-test&quot; 
                  plugin-id=&quot;com.alpha.pineapple.plugin.net&quot; /&gt;
      &lt;/resources&gt;
    &lt;/environment&gt;                                                              
  &lt;/environments&gt;
&lt;/configuration&gt;        
</pre></div>
<p>For all the details about configuration of environments and resources, please visit the <a href="../../../usage/configuration-environment.html">Environment Configuration Reference</a>. </p>
<p>The semantics of the resource element is:</p>
<div class="section">
<h4>The <tt>id</tt> attribute<a name="The_id_attribute"></a></h4>
<p>Identifies the resource uniquely in the current environment. </p></div>
<div class="section">
<h4>The <tt>plugin-id</tt> element<a name="The_plugin-id_element"></a></h4>
<p>Defines the plugin id for which should be used to execute management operations for the resource. The plugin id for the <b>infrastructure test plugin</b> is: <tt>com.alpha.pineapple.plugin.net</tt>.</p></div>
<div class="section">
<h4>The <tt>properties</tt> element<a name="The_properties_element"></a></h4>
<p>No additional properties are defined for this plugin.</p></div></div>
<div class="section">
<h3><a name="Define_the_module">Define the module</a></h3><img src="../images/module-directory-layout.jpg" alt="" />
<p>A <b><a href="../../../usage/configuration-modules.html">module</a></b> defines the input used by Pineapple to execute operations. A module is defined by a directory layout. Part of a module is the <b>model(s)</b> which defines what happens when the module is invoked. A model is put together by one or more sub models from different plugins. Each plugin defines its own schema for its particular model </p>
<div class="section">
<h4><a name="The_infrastructure_test_plugin_schema">The infrastructure test plugin schema</a></h4>
<p>The infrastructure test plugin defines a schema named <b>Infrastructure test plugin schema</b> which defines the <tt>http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0</tt> namespace. The schema can be used to define a collection of test cases. The defined test cases in the model can then be used to test the IT infrastructure of a computing environment by invoking the operation supported by the plugin. For more information about where the schema can be found, refer to the <a href="../../../usage/schemas-plugins.html">Schema locations for plugins page.</a> </p></div>
<div class="section">
<h4>Name and location of the the module model file<a name="Name_and_location_of_the_the_module_model_file"></a></h4>
<p>If the module model file doesn't exist for an environment where a script should be executed, then create the file and name it after the target environment. </p>
<p>Test cases are defined in the module model files which are located at <tt>${module-dir}&gt;/models/${environment}.xml</tt> where:</p>
<ul>
<li><tt>${module-dir}</tt> is the <i>Module Directory</i> which identifies the module with a unique name and version. </li>
<li><tt>${environment}.xml</tt> is a model file for a target environment, with <tt>${environment}</tt> substituted with the environment name, e.g. <tt>local.xml</tt> for an environment named <tt>local</tt>. </li></ul>
<p>If the module model file doesn't exist for an environment where the infrastructure should be tested, then create the file and name it after the target environment. </p></div>
<div class="section">
<h4>The module model configuration schema <a name="The_module_model_configuration_schema"></a></h4>
<p>Module model files are defined using the <b>module model configuration schema</b> which defines the <tt>http://pineapple.dev.java.net/ns/module_model_1_0</tt> namespace. Since module model files contain elements from multiple namespace all the elements and attributes should be qualified. The header and root element should be defined as (look in the <b><a href="../../../usage/configuration-modules.html">modules configuration</a></b> document for more details):</p>
<p>This example shows definition of the minimal model file for <tt>local</tt> environment: </p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot; /&gt;
</pre></div></div>
<div class="section">
<h4>Adding the plugin schema to the model<a name="Adding_the_plugin_schema_to_the_model"></a></h4>
<p>The next step is to include the schema for the infrastructure test plugin to get access to the entities defined by the schema:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:itp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; /&gt;
</pre></div>
<p>Now we have a minimal module model file with three namespaces:</p>
<ul>
<li><b>xs:</b> The basic XMLSchema schema which is only used in the root element of the document.</li>
<li><b>mmd:</b> The module model schema which is used to define the skeleton of a model file.</li>
<li><b>itp:</b> The infrastructure test plugin schema which is used to define test cases.</li></ul></div>
<div class="section">
<h4>Defining the model which targets resources<a name="Defining_the_model_which_targets_resources"></a></h4>
<p>Add a new <tt>model</tt> with a <tt>target-resource</tt> attribute. The value of the <tt>target-resource</tt> should match the id of the resource which was defined previously in the section <a href="#Define_resource">Define resource</a>, e.g. <tt>infrastructure-test</tt>:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:itp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content /&gt;                             
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;    
</pre></div>
<p>Add content to the model which uses the infrastructure test plugin through the <tt>infrastructure-test</tt> reference:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:itp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;
      &lt;itp:infrastructure&gt;
      &lt;/itp:infrastructure&gt;      
    &lt;/mmd:content&gt;                                                                                                                                              
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;            
</pre></div></div>
<div class="section">
<h4>Included example<a name="Included_example"></a></h4>
<p>The configuration of the environment and module shown above are included as an example in the default configuration generated by Pineapple when it is started. The name of the example is <b>infrastructure-test-000-empty-model-file</b>. </p></div></div>
<div class="section">
<h3><a name="Supported_test_cases">Supported test cases</a></h3>
<p>Test cases can be added to the defined module model: </p>
<ul>
<li><b>dns-forward-resolution-test</b> - tests whether a host name can be resolved to an expected IP-address.</li>
<li><b>dns-reverse-resolution-test</b> - tests whether an IP-address can be resolved to a expected host name.</li>
<li><b>dns-resolution-test</b> - tests whether a host name can be resolved to an expected IP-address and that the IP-address can be resolved back to the host name.</li>
<li><b>tcp-connection-test</b> - test whether a TCP host listens on expected port(s).</li>
<li><b>http-test</b> - tests the HTTP behavior of a HTTP host.</li>
<li><b>test-stickyness</b> - tests whether a sequence of HTTP-request from the same client are routed to and handled by the same host.</li>
<li><b>test-load-balancing</b> - tests whether HTTP-requests from new HTTP clients are routed to and handled by different hosts.</li>
<li><b>test-http-statuscode</b> - test whether a host returns an expected HTTP status code. </li>
<li><b>test-http-redirect</b> - test whether a host redirects a HTTP request to another URL. </li>
<li><b>test-http-header</b> - test whether a host returns expected and not expected HTTP headers.</li>
<li><b>test-can-access-unc-path</b> - tests a unprotected UNC path can be accessed.</li>
<li><b>test-active-ftp-server</b> - tests whether a FTP server is active on designated host.</li>
<li><b>test-ftp-server-contains-directory</b> - tests whether a FTP server contains a designated directory.</li>
<li><b>test-ftp-server-can-create-directory</b> - tests whether a directory can be created and then deleted on FTP server.</li></ul></div>
<div class="section">
<h3>Test case: Forward DNS resolution test<a name="Test_case:_Forward_DNS_resolution_test"></a></h3>
<p>Test that a host name can be resolved to an expected IP address. The test succeeds if the host name is resolved to the expected IP address. </p>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;
        
        &lt;itp:dns-forward-resolution-test host=&quot;localhost&quot; ip=&quot;127.0.0.1&quot; description=&quot;localhost resolves to 127.0.0.1&quot; /&gt;
        
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>dns-forward-resolution-test element<a name="dns-forward-resolution-test_element"></a></h4>
<p>Defines the skeleton of the test case.</p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>host attribute<a name="host_attribute"></a></h4>
<p>Defines the host name which should be resolved to an IP address.</p></div>
<div class="section">
<h4>ip attribute <a name="ip_attribute"></a></h4>
<p>The expected IP address that the host name should be resolved to. </p></div></div>
<div class="section">
<h3>Test case: Reverse DNS resolution test<a name="Test_case:_Reverse_DNS_resolution_test"></a></h3>
<p>Test that an IP address can be resolved to an expected host name. The test succeeds if the IP address is resolved to the expected host name.</p>
<p>If the IP address is resolved to multiple host names then the test succeeds if the designated host name is among the resolved host names. </p>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;
        
        &lt;itp:dns-reverse-resolution-test host=&quot;localhost&quot; ip=&quot;127.0.0.1&quot; description=&quot;127.0.0.1 resolves to localhost&quot; /&gt;
        
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>dns-reverse-resolution-test element<a name="dns-reverse-resolution-test_element"></a></h4>
<p>Defines the skeleton of the test case.</p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test.</p></div>
<div class="section">
<h4>host attribute<a name="host_attribute"></a></h4>
<p>The expected host name that the IP address should be resolved to.</p></div>
<div class="section">
<h4>ip attribute <a name="ip_attribute"></a></h4>
<p>Defines the IP address which should be resolved to an host name.</p></div></div>
<div class="section">
<h3>Test case: Forward and reverse DNS resolution test<a name="Test_case:_Forward_and_reverse_DNS_resolution_test"></a></h3>
<p>Test that a host name can be resolved to an expected IP address and that the IP address can be resolved back to the host name. </p>
<p>Alternatively the IP address can be left blank. In that case the host is attempted to resolved to an IP and then the resolved IP is reverse resolved to the host. </p>
<p>If the IP address is defined then the test succeeds if:</p>
<ul>
<li>The host name is resolved to the expected IP address.</li>
<li>The IP address is resolved to the expected host name. If the IP address is resolved to multiple host names then the designated host name must be among the resolved host names otherwise the test will fail. </li></ul>
<p>If the IP address isn't defined then the test succeeds if: </p>
<ul>
<li>The host name is resolved to an IP address.</li>
<li>The IP address is resolved to the expected host name. If the IP address is resolved to multiple host names then the designated host name must be among the resolved host names otherwise the test will fail. </li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;
        
        &lt;itp:dns-resolution-test host=&quot;localhost&quot; ip=&quot;127.0.0.1&quot; description=&quot;localhost resolves to 127.0.0.1 and reverse&quot; /&gt;
        
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>Example without explicit IP address:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;
        
        &lt;itp:dns-resolution-test host=&quot;localhost&quot; description=&quot;localhost resolves to 127.0.0.1 and reverse&quot; /&gt;
        
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>dns-resolution-test element<a name="dns-resolution-test_element"></a></h4>
<p>Defines the skeleton of the test case.</p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>host attribute<a name="host_attribute"></a></h4>
<p>Defines the host name which should be resolved to an IP address and resolved in reverse from the IP address. </p></div>
<div class="section">
<h4>ip attribute <a name="ip_attribute"></a></h4>
<p>Optional attribute which defines the IP address which should be resolved from a host name and resolved back to the host name. </p></div></div>
<div class="section">
<h3>Test case: TCP connection test<a name="Test_case:_TCP_connection_test"></a></h3>
<p>Test that a host listen listens on designated port(s). The test succeeds if:</p>
<ul>
<li>The host name can be resolved to an IP address. If the host value is an IP adresse then this test will succeeded by default. </li>
<li>The host listens on the expected port(s).</li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;                                                                                                      
        
        &lt;itp:tcp-connection-test host=&quot;belis.host&quot; description=&quot;belis.host:80,443&quot; &gt;
          &lt;itp:port value=&quot;80&quot; /&gt;
          &lt;itp:port value=&quot;443&quot; /&gt;
        &lt;/itp:tcp-connection-test&gt;
        
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements are explained in the next sub sections:</p>
<div class="section">
<h4>tcp-connection-test element<a name="tcp-connection-test_element"></a></h4>
<p>Defines a TCP connection test. </p></div>
<div class="section">
<h4>host attribute<a name="host_attribute"></a></h4>
<p>Define host name which should listen to designated port(s).</p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>port element<a name="port_element"></a></h4>
<p>The expected TCP-port on which the host should listen. Legal values is an integer between 0 and 65535. </p>
<p>Any number of port elements can be added to the test to verify that the host listens to multiple ports. The example above illustrates this feature where the it is validated that the host <tt>belis.host</tt> listens to the two ports 80 abd 443. </p></div></div>
<div class="section">
<h3>Test case: HTTP test <a name="Test_case:_HTTP_test"></a></h3>
<p>A generic test case which can test many aspects of the behavior of an HTTP host.</p>
<p>The test invokes the same <b>URL sequence</b> a designated number of times using HTTP the Get operation:</p>
<div class="source">
<pre>        seq0 = { url0, url1, .... urlM}
        seq1 = { url0, url1, .... urlM}
        ...     
        seqN = { url0, url1, .... urlM}         
</pre></div>
<p>The test succeeds if:</p>
<p>TODO: define success criterias. </p>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:itp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;                                                              
                                        
        &lt;itp:http-configuration id=&quot;myproxy8080&quot; description=&quot;Proxy definition&quot; &gt;
          &lt;itp:proxy host=&quot;myproxy&quot; port=&quot;8080&quot;/&gt;
        &lt;/itp:http-configuration&gt;
                                              
        &lt;itp:http-test description=&quot;generic http test&quot; requests=&quot;5&quot; reset=&quot;true&quot; http-configuration-ref=&quot;myproxy8080&quot; &gt; 
          &lt;itp:urls&gt;
            &lt;itp:url&gt;http://www.myhost.com&lt;/itp:url&gt;
            &lt;itp:url&gt;http://www.myhost.com/login&lt;/itp:url&gt;                                                                                                                                              
          &lt;/itp:urls&gt;
          &lt;itp:assertions&gt;
              &lt;itp:assertion name=&quot;host&quot; xpath=&quot;a/b/c&quot; intra-strategy=&quot;&quot; inter-strategy=&quot;&quot; &gt;
                &lt;itp:value v=&quot;v&quot; /&gt;              
                &lt;itp:value v=&quot;v2&quot; /&gt;                                    
              &lt;/itp:assertion&gt;

              &lt;!-- HTTP header --&gt;                        
              &lt;itp:assertion name=&quot;HTTP Status code&quot; xpath=&quot;method/statusCode&quot; intra-strategy=&quot;equalTo&quot; inter-strategy=&quot;equalTo&quot; &gt;
                &lt;itp:value v=&quot;200&quot; /&gt;                                                   
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;HTTP Response headers&quot; xpath=&quot;method/responseHeaders&quot; intra-strategy=&quot;isHeadersContaining&quot; inter-strategy=&quot;isHeadersContaining&quot; &gt;
                &lt;itp:value name=&quot;Accept&quot; v=&quot;text/plain&quot; /&gt;                                                      
                &lt;itp:value name=&quot;Via&quot; v=&quot;1.0 fred, 1.1 nowhere.com (Apache/1.1)&quot; /&gt;                             
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;Non existing HTTP Response headers&quot; xpath=&quot;method/responseHeaders&quot; intra-strategy=&quot;not(isHeadersContaining)&quot; inter-strategy=&quot;not(isHeadersContaining)&quot; &gt;
                &lt;itp:value name=&quot;terminated-by-super-encryption-scheme&quot; v=&quot;&quot; /&gt;                                                 
              &lt;/itp:assertion&gt;              

              &lt;!-- HTTP redirect --&gt;                      
              &lt;itp:assertion name=&quot;HTTP Status code&quot; xpath=&quot;method/statusCode&quot; intra-strategy=&quot;equalTo&quot; inter-strategy=&quot;equalTo&quot; &gt;
                &lt;itp:value v=&quot;302&quot; /&gt;                                                   
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;HTTP Response headers&quot; xpath=&quot;method/responseHeaders&quot; intra-strategy=&quot;isHeadersContaining&quot; inter-strategy=&quot;isHeadersContaining&quot; &gt;
                &lt;itp:value name=&quot;Location&quot; v=&quot;https://www.myhost.com/niceuri/connect&quot; /&gt;                                                                                
              &lt;/itp:assertion&gt;

              &lt;!-- HTTP LB --&gt;                    
              &lt;itp:assertion name=&quot;HTTP Status code&quot; xpath=&quot;method/statusCode&quot; intra-strategy=&quot;equalTo&quot; inter-strategy=&quot;equalTo&quot; &gt;
                &lt;itp:value v=&quot;200&quot; /&gt;                                                   
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;Server&quot; xpath=&quot;body/html/body/j2ee-sniffer/system-properties/pineapple.server&quot; intra-strategy=&quot;matchingSingleValueInRange&quot; inter-strategy=&quot;distributedAcrossRange&quot; &gt;
                &lt;itp:value v=&quot;exo-server1&quot; /&gt;                                                   
                &lt;itp:value v=&quot;exo-server2&quot; /&gt;                           
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;Environment&quot; xpath=&quot;body/html/body/j2ee-sniffer/system-properties/pineapple.environment&quot; intra-strategy=&quot;equalTo&quot; inter-strategy=&quot;equalTo&quot; &gt;
                &lt;itp:value v=&quot;cool-environment&quot; /&gt;                                                                                      
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;Location&quot; xpath=&quot;body/html/body/j2ee-sniffer/system-properties/pineapple.location&quot; intra-strategy=&quot;equalTo&quot; inter-strategy=&quot;equalTo&quot; &gt;
                &lt;itp:value v=&quot;this-location&quot; /&gt;                                                                                 
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;Host&quot; xpath=&quot;body/html/body/j2ee-sniffer/hostname&quot; intra-strategy=&quot;equalTo&quot; inter-strategy=&quot;equalTo&quot; &gt;
                &lt;itp:value v=&quot;stable-host&quot; /&gt;                                                                                   
              &lt;/itp:assertion&gt;
              &lt;itp:assertion name=&quot;Cookies&quot; xpath=&quot;state/cookies&quot; intra-strategy=&quot;cookieMapsContainsEqualValues&quot; inter-strategy=&quot;cookieMapsContainsNonEqualValues&quot; &gt;
                &lt;itp:value v=&quot;JSessionId&quot; /&gt;                                                                                    
                &lt;itp:value v=&quot;BC_HA_*&quot; /&gt;                               
              &lt;/itp:assertion&gt;
                            
          &lt;/itp:assertions&gt;

        &lt;/itp:http-test&gt;                                                                                                                                
      &lt;/itp:infrastructure&gt;                                                                     
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>http-test <a name="http-test"></a></h4>
<p>Defines the skeleton of a generic HTTP test case. </p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>requests attribute<a name="requests_attribute"></a></h4>
<p>The number of times the URL sequence should be invoked.</p></div>
<div class="section">
<h4>reset attribute<a name="reset_attribute"></a></h4>
<p>Defines whether the HTTP client should reset it self after invocation of each URL sequence. </p>
<p>If the HTTP client is reset then all of its state (e.g. credentials and cookies) will be lost after each sequence. If the HTTP client isn't reset then it will maintain its state will be maintained across all sequences.</p>
<p>This flag controls the behavior of the HTTP client in regard to session stickyness and can used to configure test cases which test the load balancing and session behaviorof a HTTP host. </p></div>
<div class="section">
<h4>http-configuration-ref attribute<a name="http-configuration-ref_attribute"></a></h4>
<p>Defines the id of the HTTP configuration which should used to customize the configuration of the the HTTP client used to send HTTP requests.</p></div>
<div class="section">
<h4>urls element <a name="urls_element"></a></h4>
<p>Container element for a URL sequence, which contains a list of URLs which is accessed using a HTTP Get operation, during each test.</p></div>
<div class="section">
<h4>url element<a name="url_element"></a></h4>
<p>Defines a single URL in the URL sequence.</p></div>
<div class="section">
<h4>assertions element<a name="assertions_element"></a></h4>
<p>Container element for assertions.</p></div>
<div class="section">
<h4>assertion element<a name="assertion_element"></a></h4>
<p>Define an assertion which validates a single aspects of the behavior of the tested HTTP host(s). An assertion consists of the following parts:</p>
<ul>
<li>Human readable name of what is tested.</li>
<li>What is the actual value?</li>
<li>The expected value(s)?</li>
<li>Which strategy is used to assert the actual value with the expected value?</li></ul>
<p>The remaining attributes and sub elements in a <tt>assertion</tt> defines exactly those four parts: name, actual value, expected value(s) and strategy. </p></div>
<div class="section">
<h4>assertion name attribute<a name="assertion_name_attribute"></a></h4>
<p>Should contain a suitable name of the assertion. The name is used by Pineapple at run time in clients and stored in reports to show the outcome of the test.</p>
<p>This attribute defines the <i>name</i> part of the assertion. </p></div>
<div class="section">
<h4>assertion xpath attribute<a name="assertion_xpath_attribute"></a></h4>
<p>Defines an XPath expression which is used to is identify and extract actual values from each returned HTTP response. The XPath expression can extracts values from:</p>
<ul>
<li>The returned HTTP response. </li>
<li>The HTTP state of the HTTP client. </li>
<li>The HTTP Get method used to invoke the HTTP Get operation. </li></ul>
<p>This attribute defines the <i>actual value</i> part of the assertion. </p>
<div class="section">
<h5>Extracting value(s) from the HTTP response <a name="Extracting_values_from_the_HTTP_response"></a></h5>
<p>The HTTP resonse is accessed with an expression starting with <tt>body/</tt>. Examples are:</p>
<ul>
<li><tt>body/html/body/</tt> to access ....</li></ul></div>
<div class="section">
<h5>Extracting value(s) from HTTP State <a name="Extracting_values_from_HTTP_State"></a></h5>
<p>The HTTP client manages a HTTP state object which acts as an container for HTTP attributes that may persist from request to request, such as cookies and authentication credentials. The HTTP state is defined by the the interface <tt>org.apache.commons.httpclient.HttpState</tt>. All of the attributes of this interface can be accessed.</p>
<p>The HTTP state is accessed with an expression starting with <tt>state/</tt>. Examples are:</p>
<ul>
<li><tt>state/cookies</tt> to access the returned map of cookies. </li></ul></div>
<div class="section">
<h5>Extracting value(s) from the HTTP Get method<a name="Extracting_values_from_the_HTTP_Get_method"></a></h5>
<p>The HTTP client uses an instance of the interface <tt>org.apache.commons.httpclient.HttpMethod</tt> to represents a request to be sent via a HTTP connection. All of the attributes of this interface can be accessed. </p>
<p>The HTTP Get metod is accessed with an expression starting with <tt>method/</tt>. Examples are:</p>
<ul>
<li><tt>method/statusCode</tt> to access the returned HTTP status code.</li>
<li><tt>method/responseHeaders</tt> to access the returned map of HTTP response headers. </li>
<li><tt>method/responseHeaders</tt> to access the returned map of HTTP response footers.</li></ul></div></div>
<div class="section">
<h4>assertion intra-strategy attribute<a name="assertion_intra-strategy_attribute"></a></h4>
<p>Defines the strategy used to assert actual value against expected value(s) within a URL sequence.</p>
<p>The legal single value strategies are:</p>
<ul>
<li>equalTo</li>
<li>cookieMapsContainsEqualValues</li>
<li>cookieMapsContainsNonEqualValues</li>
<li>Any single value Hamcrest matcher??! not or and???</li>
<li>Any single value Pineapple matcher??!</li></ul>
<p>The legal multi value strategies are:</p>
<ul>
<li>isHeadersNotContaining</li>
<li>matchingSingleValueInRange</li>
<li>distributedAcrossRange</li>
<li>Any multi value Hamcrest matcher??!</li>
<li>Any multi value Pineapple matcher??!</li></ul>
<p>This attribute and the <tt>inter-strategy</tt> attribute defines the <i>strategy</i> part of the assertion.</p></div>
<div class="section">
<h4>assertion inter-strategy attribute<a name="assertion_inter-strategy_attribute"></a></h4>
<p>Defines the strategy used to assert actual value against expected value(s) across URL sequences.</p>
<p>This attribute and the <tt>intra-strategy</tt> attribute defines the <i>strategy</i> part of the assertion. </p></div>
<div class="section">
<h4>assertion value element <a name="assertion_value_element"></a></h4>
<p>Defines a single expected value in the assertion. Minimum one value element must be defined for an assertion. If multiple value elements are defined for an assertion then it will depende on the used strategies whether multiple values are intepreted as an set or list or another kind of collection. </p>
<p>This attribute defines the <i>expected value</i> part of the assertion. </p></div></div>
<div class="section">
<h3>Test case: HTTP session is sticky to single server<a name="Test_case:_HTTP_session_is_sticky_to_single_server"></a></h3>
<p>Test that a HTTP session is load balanced sticky to a single server, e.g. a complete set of requests is handled by the same server. The test executes the same <b>URL sequence</b> a designated number of times:</p>
<div class="source">
<pre>        seq0 = { url0, url1, .... urlM}
        seq1 = { url0, url1, .... urlM}
        ...     
        seqN = { url0, url1, .... urlM}         
</pre></div>
<p>The HTTP client state is maintained across all sequences, to simulate an the same user accessing the defined URL's.</p>
<p>The test succeeds if:</p>
<ul>
<li>All HTTP requests contains the HTTP status code 200. </li>
<li>Returned cookie values are equal within an URL sequence.</li>
<li>Returned cookie values are equal across URL sequences (values from seq0 == seq1). </li>
<li>Returned meta data property values (for <b>host</b>, <b>environement</b> and <b>location</b>) are equal within an URL sequence.</li>
<li>Returned meta data property values (for <b>host</b>, <b>environement</b> and <b>location</b>) are equal across URL sequences (values from seq0 == seq1).</li>
<li>Returned meta data property <b>server</b> values are equal within an URL sequence. </li>
<li>Returned meta data property <b>server</b> values are qual across URL sequences. </li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:itp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;      
                                        
        &lt;itp:http-configuration id=&quot;myproxy8080&quot; description=&quot;Proxy definition&quot; &gt;
          &lt;itp:proxy host=&quot;myproxy&quot; port=&quot;8080&quot;/&gt;
        &lt;/itp:http-configuration&gt;
                                              
        &lt;itp:session-stickyness-test description=&quot;session-stickyness-test for...&quot; requests=&quot;5&quot; http-configuration-ref=&quot;myproxy8080&quot; &gt; 
          &lt;itp:urls&gt;
            &lt;itp:url&gt;http://www.myhost.com&lt;/itp:url&gt;
            &lt;itp:url&gt;http://www.myhost.com/login&lt;/itp:url&gt;
          &lt;/itp:urls&gt;                                   
          &lt;itp:assert&gt;
            &lt;itp:properties&gt;
              &lt;itp:property name=&quot;host&quot; value=&quot;null&quot; /&gt;
              &lt;itp:property name=&quot;environment&quot; value=&quot;null&quot; /&gt;
              &lt;itp:property name=&quot;location&quot; value=&quot;null&quot; /&gt;
            &lt;/itp:properties&gt;
            &lt;itp:servers&gt;
              &lt;itp:server&gt;null&lt;/itp:server&gt;
            &lt;/itp:servers&gt;
          &lt;/itp:assert&gt;
        &lt;/itp:session-stickyness-test&gt;
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>session-stickyness-test <a name="session-stickyness-test"></a></h4>
<p>Defines a session stickyness test . </p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>requests attribute<a name="requests_attribute"></a></h4>
<p>The number of times the URL sequence should be invoked.</p></div>
<div class="section">
<h4>http-configuration-ref attribute<a name="http-configuration-ref_attribute"></a></h4>
<p>Defines the id of the HTTP configuration which should used to customize the configuration of the the HTTP client used to send HTTP requests.</p></div>
<div class="section">
<h4>urls <a name="urls"></a></h4>
<p>Container element for a URL sequence, which contains a list of URLs which is accessed using a HTTP Get operation, during each test.</p></div>
<div class="section">
<h4>url<a name="url"></a></h4>
<p>Defines a single URL in the URL sequence.</p></div>
<div class="section">
<h4>assert<a name="assert"></a></h4>
<p>Container element for the expected test values.</p></div>
<div class="section">
<h4>properties<a name="properties"></a></h4>
<p>Container element for properties which are are extracted from the returned HTTP responses.</p></div>
<div class="section">
<h4>property<a name="property"></a></h4>
<p>Defines a expected name-value pair. The plugin attempts to extract a property with the defined name from each the returned HTTP response.</p>
<p>The HTTP response is parsed as s XML document with the strucuture:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; 
&lt;j2ee-sniffer&gt;
  &lt;hostname&gt;myhost.alpha..net&lt;/hostname&gt; 
  &lt;system-properties&gt;
    &lt;pineapple.location&gt;some-network-zone&lt;/pineapple.location&gt; 
    &lt;pineapple.server&gt;server-with-id-alpha&lt;/pineapple.server&gt; 
    &lt;pineapple.environment&gt;stable-test-environment&lt;/pineapple.environment&gt;  
  &lt;/system-properties&gt;
&lt;/j2ee-sniffer&gt; 
</pre></div>
<p>The test case extracts the these property values from the response:</p>
<ul>
<li><b>host</b> is extract using the XPath expression <tt>/j2ee-sniffer/hostname</tt>. The property defines the host name in the HTTP session. </li>
<li><b>environment</b> is extract using the XPath expression <tt>/j2ee-sniffer/system-properties/pineapple.environment</tt>. The property defines an environment identifier. </li>
<li><b>location</b> is extract using the XPath expression <tt>/j2ee-sniffer/system-properties/pineapple.location</tt>. The property defines an infrastructure zone identifier. The location is used to logically divide an environment in multiple sections. An environment can be divided into multiple clusters, network zones or even geographical locations. </li></ul>
<p>The extracted actual values is then tested with expected values defined for each propery.</p>
<p>If an URL doesn't return an XML document with the above form, the values for the properties <b>host</b>, <b>environment</b> and <b>location</b> are interpreted as null. </p></div>
<div class="section">
<h4>servers + server<a name="servers__server"></a></h4>
<p>The <tt>servers</tt> element defines a container element for server set. The <tt>server</tt> element defines an individual server in the server set. The set of servers defines a range of expected values wich is tested against the actual values.</p>
<p>The actual values from the server property is extracted by the test case from the response:</p>
<ul>
<li><b>server</b> is extracted using the XPath expression <tt>/j2ee-sniffer/system-properties/pineapple.server</tt>. </li></ul>
<p>If an URL doesn't return an XML document with the expected form, then the value for the <b>server</b>&gt; property is interpreted as null. </p></div></div>
<div class="section">
<h3>Test case: New HTTP sessions are load balanced between servers<a name="Test_case:_New_HTTP_sessions_are_load_balanced_between_servers"></a></h3>
<p>Test that a set new HTTP sessions is load balanced evenly to a set of servers. The test executes the same <b>URL sequence</b> a designated number of times:</p>
<div class="source">
<pre>        seq0 = { url0, url1, .... urlM}
        seq1 = { url0, url1, .... urlM}
        ...     
        seqN = { url0, url1, .... urlM}         
</pre></div>
<p>The HTTP client is reset after each sequence, to simulate an new user accessing the defined URL's.</p>
<p>The test succeeds if:</p>
<ul>
<li>All HTTP requests contains the HTTP status code 200. </li>
<li>Returned cookie values are equal within an URL sequence.</li>
<li>Returned cookie values differ across URL sequences (values from seq0 != seq1). </li>
<li>Returned meta data property values (for <b>host</b>, <b>environement</b> and <b>location</b>) are equal within an URL sequence.</li>
<li>Returned meta data property values (for <b>host</b>, <b>environement</b> and <b>location</b>) differ across URL sequences (values from seq0 != seq1).</li>
<li>Returned meta data property <b>server</b> values are equal within an URL sequence. </li>
<li>Returned meta data property <b>server</b> values differ across URL sequences. </li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:itp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;
      
        &lt;itp:http-configuration id=&quot;myproxy8080&quot; description=&quot;Proxy definition&quot; &gt;
          &lt;itp:proxy host=&quot;myproxy&quot; port=&quot;8080&quot;/&gt;
        &lt;/itp:http-configuration&gt;
                                               
        &lt;itp:load-balancing-test description=&quot;load-balancing-test for...&quot; requests=&quot;5&quot; http-configuration-ref=&quot;myproxy8080&quot; &gt; 
          &lt;itp:urls&gt;
            &lt;itp:url&gt;http://www.myhost.com&lt;/itp:url&gt;
            &lt;itp:url&gt;http://www.myhost.com/login&lt;/itp:url&gt;
          &lt;/itp:urls&gt;                                   
          &lt;itp:assert&gt;
            &lt;itp:properties&gt;
              &lt;itp:property name=&quot;host&quot; value=&quot;null&quot; /&gt;
              &lt;itp:property name=&quot;environment&quot; value=&quot;null&quot; /&gt;
              &lt;itp:property name=&quot;location&quot; value=&quot;null&quot; /&gt;
            &lt;/itp:properties&gt;
            &lt;itp:servers&gt;
              &lt;itp:server&gt;null&lt;/itp:server&gt;
            &lt;/itp:servers&gt;
          &lt;/itp:assert&gt;
        &lt;/itp:load-balancing-test&gt;
      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>load-balancing-test <a name="load-balancing-test"></a></h4>
<p>Defines a load balancing test. </p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>requests attribute<a name="requests_attribute"></a></h4>
<p>The number of times the URL sequence should be invoked.</p></div>
<div class="section">
<h4>http-configuration-ref attribute<a name="http-configuration-ref_attribute"></a></h4>
<p>Defines the id of the HTTP configuration which should used to customize the configuration of the the HTTP client used to send HTTP requests.</p></div>
<div class="section">
<h4>urls <a name="urls"></a></h4>
<p>Container element for a URL sequence, which contains a list of URLs which is accessed using a HTTP Get operation, during each test.</p></div>
<div class="section">
<h4>url<a name="url"></a></h4>
<p>Defines a single URL in the URL sequence.</p></div>
<div class="section">
<h4>assert<a name="assert"></a></h4>
<p>Container element for the expected test values.</p></div>
<div class="section">
<h4>properties<a name="properties"></a></h4>
<p>Container element for properties which are are extracted from the returned HTTP responses.</p></div>
<div class="section">
<h4>property<a name="property"></a></h4>
<p>Defines a expected name-value pair. The plugin attempts to extract a property with the defined name from each the returned HTTP response.</p>
<p>The HTTP response is parsed as s XML document with the strucuture:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; 
&lt;j2ee-sniffer&gt;
  &lt;hostname&gt;myhost.alpha.net&lt;/hostname&gt; 
  &lt;system-properties&gt;
    &lt;pineapple.location&gt;some-network-zone&lt;/pineapple.location&gt; 
    &lt;pineapple.server&gt;server-with-id-alpha&lt;/pineapple.server&gt; 
    &lt;pineapple.environment&gt;stable-test-environment&lt;/pineapple.environment&gt;  
  &lt;/system-properties&gt;
&lt;/j2ee-sniffer&gt; 
</pre></div>
<p>The test case extracts the these property values from the response:</p>
<ul>
<li><b>host</b> is extract using the XPath expression <tt>/j2ee-sniffer/hostname</tt>. The property defines the host name in the HTTP session. </li>
<li><b>environment</b> is extract using the XPath expression <tt>/j2ee-sniffer/system-properties/pineapple.environment</tt>. The property defines an environment identifier. </li>
<li><b>location</b> is extract using the XPath expression <tt>/j2ee-sniffer/system-properties/pineapple.location</tt>. The property defines an infrastructure zone identifier. The location is used to logically divide an environment in multiple sections. An environment can be divided into multiple clusters, network zones or even geographical locations. </li></ul>
<p>The extracted actual values is then tested with expected values defined for each propery.</p>
<p>If an URL doesn't return an XML document with the above form, the values for the properties <b>host</b>, <b>environment</b> and <b>location</b> are interpreted as null. </p></div>
<div class="section">
<h4>servers + server<a name="servers__server"></a></h4>
<p>The <tt>servers</tt> element defines a container element for server set. The <tt>server</tt> element defines an individual server in the server set. The set of servers defines a range of expected values wich is tested against the actual values.</p>
<p>The actual values from the server property is extracted by the test case from the response:</p>
<ul>
<li><b>server</b> is extracted using the XPath expression <tt>/j2ee-sniffer/system-properties/pineapple.server</tt>. </li></ul>
<p>If an URL doesn't return an XML document with the expected form, then the value for the <b>server</b>&gt; property is interpreted as null. </p></div></div>
<div class="section">
<h3>Test case: Host redirects a HTTP request to another URL<a name="Test_case:_Host_redirects_a_HTTP_request_to_another_URL"></a></h3>
<p>Test that a HTTP request redirected to a new URL. </p>
<p>The test succeeds if:</p>
<ul>
<li>Invoking the URL results in HTTP status code 301, 302, 303, 304 or 305. </li>
<li>Invoking the URL results in a recieved HTTP header which contains the new location which macthes the expected redirect URL.</li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;                                                                                                      
        &lt;itp:http-configuration id=&quot;myproxy8080&quot; description=&quot;Proxy definition&quot; &gt;
          &lt;itp:proxy host=&quot;myproxy&quot; port=&quot;8080&quot;/&gt;
        &lt;/itp:http-configuration&gt;

        &lt;itp:http-redirect-test description=&quot;http-redirect-test for...&quot; http-configuration-ref=&quot;myproxy8080&quot; &gt; 
          &lt;itp:url&gt;http://www.myhost.com/niceuri/connect&lt;/itp:url&gt;
          &lt;itp:assert&gt;
            &lt;itp:url&gt;https://www.myhost.com/niceuri/connect&lt;/itp:url&gt;
          &lt;/itp:assert&gt;
        &lt;/itp:http-redirect-test&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>http-redirect-test <a name="http-redirect-test"></a></h4>
<p>Defines a HTTP redirect test. </p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. Thes description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>http-configuration-ref attribute<a name="http-configuration-ref_attribute"></a></h4>
<p>Defines the id of the HTTP configuration which should used to customize the configuration of the the HTTP client used to send HTTP requests.</p>
<div class="section">
<h5>The <tt>follow-redirects</tt> attribute will have no effect<a name="The_follow-redirects_attribute_will_have_no_effect"></a></h5>
<p>Even if the <tt>follow-redirects</tt> element is defined in the referenced HTTP configuration it will have NO effect for the HTTP redirect test case. This is because the purpose of the HTTP redirect test case is to test that a HTTP host replies with expected redirect directives. </p></div></div>
<div class="section">
<h4>url<a name="url"></a></h4>
<p>Defines the initial URL to which the responding host should reply to, by sending an HTTP redirect back to the HTTP client.</p></div>
<div class="section">
<h4>assert<a name="assert"></a></h4>
<p>Container element for the expected test values.</p></div>
<div class="section">
<h4>assert/url<a name="asserturl"></a></h4>
<p>Defines the expected url that the host redirects to.</p></div></div>
<div class="section">
<h3>Test case: Host returns expected HTTP status code<a name="Test_case:_Host_returns_expected_HTTP_status_code"></a></h3>
<p>Test that a host returns an expected HTTP status code.</p>
<p>The test succeeds if:</p>
<ul>
<li>Invoking a URL results in an expected HTTP status code. </li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;
      &lt;itp:infrastructure&gt;
        &lt;itp:http-configuration id=&quot;myproxy8080&quot; description=&quot;Proxy definition&quot; &gt;
          &lt;itp:proxy host=&quot;myproxy&quot; port=&quot;8080&quot;/&gt;
        &lt;/itp:http-configuration&gt;

        &lt;itp:http-statuscode-test
          http-configuration-ref=&quot;myproxy8080&quot;
          description=&quot;OBIEE Analytics application&quot; 
          url=&quot;http://myexalytics.alpha.net:9704/analytics&quot; 
          expected=&quot;200&quot; /&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>http-statuscode-test<a name="http-statuscode-test"></a></h4>
<p>Defines a HTTP status code test. </p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Mandatory attribute which defines a description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>http-configuration-ref attribute<a name="http-configuration-ref_attribute"></a></h4>
<p>Optinal attribute which defines the id of the HTTP configuration which should used to customize the configuration of the the HTTP client used to send HTTP requests.</p></div>
<div class="section">
<h4>url<a name="url"></a></h4>
<p>Mandatory attribute which defines the URL to which the HTTP request is sent.</p>
<p>If the host returns a redirect status code the test case will follow the redirect and return the result of the hosts response to redirected URL. The <tt>follow-redirects</tt> element is defined in the referenced HTTP configuration can be used to control the redirect behavior. </p></div>
<div class="section">
<h4>expected <a name="expected"></a></h4>
<p>Mandatory attribute which defines the expected HTTP status code.</p></div></div>
<div class="section">
<h3>Test case: Host returns expected and not-expected HTTP headers <a name="Test_case:_Host_returns_expected_and_not-expected_HTTP_headers"></a></h3>
<p>Test that a HTTP response contains expected HTTP header(s) with expected value(s). For more information about HTTP headers, visit the <a class="externalLink" href="http://en.wikipedia.org/wiki/List_of_HTTP_headers">Wikipedia HTTP headers page.</a> </p>
<p>The test succeeds if:</p>
<ul>
<li>Invoking the URL results in HTTP status code 200. </li>
<li>The recieved HTTP response contains the all expected HTTP headers.</li>
<li>The recieved HTTP response contains the all expected HTTP header values. </li>
<li>The recieved HTTP response doesn't contain any of specified non-exising HTTP headers. </li></ul>
<p>Example:</p>
<div class="source">
<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;                                                                                                      
        &lt;itp:http-configuration id=&quot;myproxy8080&quot; description=&quot;Proxy definition&quot; &gt;
          &lt;itp:proxy host=&quot;myproxy&quot; port=&quot;8080&quot;/&gt;
        &lt;/itp:http-configuration&gt;

        &lt;itp:http-header-test description=&quot;http-header-test for...&quot; http-configuration-ref=&quot;myproxy8080&quot; &gt; 
          &lt;itp:url&gt;http://www.myhost.com/niceuri/connect&lt;/itp:url&gt;                                      
          &lt;itp:assert&gt;
            &lt;itp:headers&gt;
              &lt;itp:header name=&quot;Accept&quot; value=&quot;text/plain&quot; /&gt;
              &lt;itp:header name=&quot;Via&quot; value=&quot;1.0 fred, 1.1 nowhere.com (Apache/1.1)&quot; /&gt;
            &lt;/itp:headers&gt;
            &lt;itp:nonexisting-headers&gt;
              &lt;itp:header name=&quot;terminated-by-super-encryption-scheme&quot; /&gt;
            &lt;/itp:nonexisting-headers&gt;
          &lt;/itp:assert&gt;
        &lt;/itp:http-header-test&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the elements is explained in the next sub sections:</p>
<div class="section">
<h4>http-header-test <a name="http-header-test"></a></h4>
<p>Defines a HTTP header test. </p></div>
<div class="section">
<h4>description attribute <a name="description_attribute"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>http-configuration-ref attribute<a name="http-configuration-ref_attribute"></a></h4>
<p>Defines the id of the HTTP configuration which should used to customize the configuration of the the HTTP client used to send HTTP requests.</p></div>
<div class="section">
<h4>url<a name="url"></a></h4>
<p>Defines the initial URL to which the responding host should reply to, by sending an HTTP redirect back to the HTTP client.</p></div>
<div class="section">
<h4>assert<a name="assert"></a></h4>
<p>Container element for the expected test values.</p></div>
<div class="section">
<h4>headers + header<a name="headers__header"></a></h4>
<p>The <tt>headers</tt> element defines a container element for expected HTTP headers. The <tt>header</tt> element defines an individual HTTP header which is expected with an expected vaule.</p></div>
<div class="section">
<h4>nonexisting-headers + header <a name="nonexisting-headers__header"></a></h4>
<p>The <tt>nonexisting-headers</tt> element defines a container element for HTTP headers which are expected not to present in the returned HTTP response. The <tt>header</tt> element defines the name of individual HTTP header which is expected not to present in the returned HTTP response.</p></div></div>
<div class="section">
<h3>test case: FTP server is active on host<a name="test_case:_FTP_server_is_active_on_host"></a></h3>
<p>Test that a FTP server is accessible on a designated host. The test succeeds if a logon to the FTP server succeeds and the files in the root directory can be listed. </p>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;
    &lt;mmd:content&gt;
      &lt;itp:infrastructure&gt;

        &lt;itp:ftp-server-active-test description=&quot;ftp-server-active-test...&quot; proxy-id=&quot;myproxy8080&quot; &gt; 
          &lt;itp:host&gt;myftpserver&lt;/itp:host&gt;
          &lt;itp:port&gt;21&lt;/itp:port&gt;
          &lt;itp:user&gt;gertrude&lt;/itp:user&gt;
          &lt;itp:password&gt;muzzlehatch&lt;/itp:password&gt;
        &lt;/itp:ftp-server-active-test&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the test elements is explained in the next sub sections:</p>
<div class="section">
<h4>ftp-server-active-test <a name="ftp-server-active-test"></a></h4>
<p>Defines a FTP server is active test case.</p></div>
<div class="section">
<h4>description<a name="description"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>host<a name="host"></a></h4>
<p>The host where the FTP server should be running.</p></div>
<div class="section">
<h4>port<a name="port"></a></h4>
<p>The port where the FTP server should be running.</p></div>
<div class="section">
<h4>user<a name="user"></a></h4>
<p>User name used to access to FTP server.</p></div>
<div class="section">
<h4>password<a name="password"></a></h4>
<p>Password used to access to FTP server.</p></div></div>
<div class="section">
<h3>Test case: FTP server contains directory<a name="Test_case:_FTP_server_contains_directory"></a></h3>
<p>Test that a FTP server contains a designated directory. The test succeeds if a logon to the FTP server succeeds and that the roor directory contains the expected directory. </p>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;
      &lt;itp:infrastructure&gt;

        &lt;itp:ftp-server-contains-directory-test description=&quot;ftp-server-contains-directory-test for...&quot; proxy-id=&quot;myproxy8080&quot; &gt; 
          &lt;itp:host&gt;myftpserver&lt;/itp:host&gt;
          &lt;itp:port&gt;21&lt;/itp:port&gt;
          &lt;itp:user&gt;titus&lt;/itp:user&gt;
          &lt;itp:password&gt;fusicha&lt;/itp:password&gt;
          &lt;itp:directoy&gt;mylogs&lt;/itp:directoy&gt;
        &lt;/itp:ftp-server-contains-directory-test&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the test elements is explained in the next sub sections:</p>
<div class="section">
<h4>ftp-server-contains-directory <a name="ftp-server-contains-directory"></a></h4>
<p>Defines a FTP server contain directory test case.</p></div>
<div class="section">
<h4>description<a name="description"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>host<a name="host"></a></h4>
<p>The host where the FTP server should be running.</p></div>
<div class="section">
<h4>port<a name="port"></a></h4>
<p>The port where the FTP server should be running.</p></div>
<div class="section">
<h4>user<a name="user"></a></h4>
<p>User name used to access to FTP server.</p></div>
<div class="section">
<h4>password<a name="password"></a></h4>
<p>Password used to access to FTP server.</p></div>
<div class="section">
<h4>directory<a name="directory"></a></h4>
<p>Name of the expected directory. The expression &quot;..&quot; can be used to navigate up to the parent directory from default root directory when logged on to the FTP server.</p></div></div>
<div class="section">
<h3>Test case: FTP server can create directory<a name="Test_case:_FTP_server_can_create_directory"></a></h3>
<p>Test that a directory can be created and then deleted on FTP server. The test succeeds if:</p>
<ul>
<li>A logon to the FTP server succeeds.</li>
<li>A directory can be created.</li>
<li>The directory can then deleted.</li></ul>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;
      &lt;itp:infrastructure&gt;

        &lt;itp:ftp-server-create-directory-test description=&quot;ftp-server-create-directory-test for...&quot; proxy-id=&quot;myproxy8080&quot; &gt; 
          &lt;itp:host&gt;myftpserver&lt;/itp:host&gt;                                      
          &lt;itp:port&gt;21&lt;/itp:port&gt;          
          &lt;itp:user&gt;titus&lt;/itp:user&gt;
          &lt;itp:password&gt;fusicha&lt;/itp:password&gt;                        
        &lt;/itp:ftp-server-create-directory-test&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the test elements is explained in the next sub sections:</p>
<div class="section">
<h4>ftp-server-create-directory-test <a name="ftp-server-create-directory-test"></a></h4>
<p>Defines a FTP server can create directory test case.</p></div>
<div class="section">
<h4>description<a name="description"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>host<a name="host"></a></h4>
<p>The host where the FTP server should be running.</p></div>
<div class="section">
<h4>port<a name="port"></a></h4>
<p>The port where the FTP server should be running.</p></div>
<div class="section">
<h4>user<a name="user"></a></h4>
<p>User name used to access to FTP server.</p></div>
<div class="section">
<h4>password<a name="password"></a></h4>
<p>Password used to access to FTP server.</p></div></div>
<div class="section">
<h3>Test case: Can access UNC path<a name="Test_case:_Can_access_UNC_path"></a></h3>
<p>Test that an unprotected UNC path can be accessed. This can be use to test Winsdows shares which are not protected. The test succeeds if the UNC path can be access with out any logon. The Test case can not be use to test Windows shares which requires a log on.</p>
<p>Example:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;

        &lt;itp:access-unc-path-test description=&quot;access-unc-path-test for...&quot; proxy-id=&quot;myproxy8080&quot; &gt; 
          &lt;itp:host&gt;myftpserver&lt;/itp:host&gt;
          &lt;itp:path&gt;my-public-logs&lt;/itp:path&gt;
        &lt;/itp:access-unc-path-test&gt;

      &lt;/itp:infrastructure&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the test elements is explained in the next sub sections:</p>
<div class="section">
<h4>access-unc-path-test <a name="access-unc-path-test"></a></h4>
<p>Defines a access UNC path test case.</p></div>
<div class="section">
<h4>description<a name="description"></a></h4>
<p>Should contain a suitable description of the test. The description is used by Pineapple at run time in clients and stored in reports to show the outcome of the test. </p></div>
<div class="section">
<h4>host<a name="host"></a></h4>
<p>The host where the FTP server should be running.</p></div>
<div class="section">
<h4>path<a name="path"></a></h4>
<p>The UNC path which should be accessed.</p></div></div>
<div class="section">
<h3><a name="Support_for_HTTP_configuration_for_configuration_of_proxies_and_timeout">Support for HTTP configuration for configuration of proxies and timeout</a> </h3>
<p>The HTTP related test cases support configuration of the HTTP layer using a custom HTTP configuration. Two steps are required to use a custom HTTP configuration:</p>
<ul>
<li>Define the HTTP configuration element and add the desired settings</li>
<li>Reference the HTTP configuration element by its ID from any number of HTTP related test cases within the model.</li></ul>
<div class="section">
<h4>Defining a HTTP configuration <a name="Defining_a_HTTP_configuration"></a></h4>
<p>First an example, which illustrates an HTTP configuration:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:ifp=&quot;http://pineapple.dev.java.net/ns/plugin/infrastructure_1_0&quot; &gt;
  &lt;mmd:model target-resource=&quot;infrastructure-test&quot;&gt;             
    &lt;mmd:content&gt;                               
      &lt;itp:infrastructure&gt;

        &lt;itp:http-configuration id=&quot;basic-configuration&quot; description=&quot;a config that uses pinky the proxy&quot; &gt;
          &lt;itp:proxy host=&quot;pinkytheproxy&quot; port=&quot;8080&quot;/&gt;
          &lt;itp:tcp socket-timeout=&quot;3000&quot; /&gt;
          &lt;itp:follow-redirects value=&quot;true&quot; /&gt;
        &lt;/itp:http-configuration&gt;

      &lt;/itp:infrastructure&gt;     
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;
&lt;/mmd:models&gt;
</pre></div>
<p>The semantics of the HTTP configuration element and its parts are explained in the next sub sections:</p>
<div class="section">
<h5>http-configuration element <a name="http-configuration_element"></a></h5>
<p>Defines a custom HTTP configuration which can referenced from HTTP related test cases. </p></div>
<div class="section">
<h5>id attribute<a name="id_attribute"></a></h5>
<p>Defines the id of the configuration, this id should be referenced from test cases who want to apply the settings in the configuration to test case. </p></div>
<div class="section">
<h5>description attribute<a name="description_attribute"></a></h5>
<p>Contains a human readable desription of the particular HTTP configuration. </p></div>
<div class="section">
<h5>proxy element <a name="proxy_element"></a></h5>
<p>Defines a proxy server which should be used by this HTTP configuration. </p></div>
<div class="section">
<h5>proxy host attribute<a name="proxy_host_attribute"></a></h5>
<p>Defines the proxy server host name.</p></div>
<div class="section">
<h5>proxy port attribute <a name="proxy_port_attribute"></a></h5>
<p>Defines the proxy server port number. Legal values is an integer between 0 and 65535. </p></div>
<div class="section">
<h5>tcp element <a name="tcp_element"></a></h5>
<p>Defines TCP related settings which should be used by this HTTP configuration. </p></div>
<div class="section">
<h5>tcp socket-timeout attribute<a name="tcp_socket-timeout_attribute"></a></h5>
<p>Defines the socket timeout in milliseconds. </p></div>
<div class="section">
<h5>follow-redirects element <a name="follow-redirects_element"></a></h5>
<p>Defines whether the HTTP client should follow HTTP redirects recieved from hosts. Legal values are:</p>
<ul>
<li><tt>true</tt> - The HTTP client will follow HTTP redirects.</li>
<li><tt>false</tt> - The HTTP client will not follow HTTP redirects.</li></ul></div></div>
<div class="section">
<h4>Reference the HTTP configuration element by its ID from test cases <a name="Reference_the_HTTP_configuration_element_by_its_ID_from_test_cases"></a></h4>
<p>The HTTP related test cases supports configuration of a custom HTTP configuration through the usage of the <tt>http-configuration-ref</tt> attribute. The attribute defines the ID of the HTTP configuration which should be used for HTTP Get operations.</p></div>
<div class="section">
<h4>Using the default HTTP configuration<a name="Using_the_default_HTTP_configuration"></a></h4>
<p>If a HTTP related test case doesn't explicit reference a HTTP configuration then it will use the default HTTP configuration with these settings:</p>
<ul>
<li>No proxy defined, e.g. proxy host = &quot;&quot; and proxy port = 0</li>
<li>TCP socket timeout = 3000 (ms)</li>
<li>HTTP follow-redirects = true</li></ul></div></div>
<div class="section">
<h3><a name="Support_for_SSL_using_HTTPS_connections">Support for SSL using HTTPS connections</a></h3>
<p>All the test cases supports HTTPS connections, e.g. URL's with HTTPS://... can be tested. The HTTP transport layer is configured to accept <b>all</b> SSL certificates that it is presented for. The certificates are not stored permanently in the key store of the used Java installation. </p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2018.
          All Rights Reserved.      
                    
      </div>

                          
        
                </div>
    </footer>
  </body>
</html>
