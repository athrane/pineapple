<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 17 Apr 2017
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Allan Thrane Andersen" />
    <meta name="Date-Revision-yyyymmdd" content="20170417" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Pineapple WebLogic scripting tool (WLST) plugin - How-to: Execute hello world script</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Pineapple WebLogic scripting tool (WLST) plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../../../index.html" title="Pineapple Home">
        Pineapple Home</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../../" title="Pineapple plugin projects">
        Pineapple plugin projects</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../" title="Pineapple WebLogic scripting tool (WLST) plugin">
        Pineapple WebLogic scripting tool (WLST) plugin</a>
        </li>
      <li class="divider ">/</li>
        <li class="">How-to: Execute hello world script</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 17 Apr 2017</li> 
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Overview</li>
                                
      <li>
    
                          <a href="../../../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/index.html" title="For Users">
          <i class="none"></i>
        For Users</a>
            </li>
                  
      <li>
    
                          <a href="../../../development/index.html" title="For Developers">
          <i class="none"></i>
        For Developers</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/terms.html" title="Terms and Conditions">
          <i class="none"></i>
        Terms and Conditions</a>
            </li>
                              <li class="nav-header">Clients</li>
                                
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/index.html" title="Standalone Web Application">
          <i class="none"></i>
        Standalone Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/index.html" title="Deployable Web Application">
          <i class="none"></i>
        Deployable Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-maven-plugin/index.html" title="Maven Plugin">
          <i class="none"></i>
        Maven Plugin</a>
            </li>
                              <li class="nav-header">Plugins</li>
                                
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-agent-plugin/index.html" title="Agent">
          <i class="none"></i>
        Agent</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-composite-execution-plugin/index.html" title="Composite Execution">
          <i class="none"></i>
        Composite Execution</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-ssh-plugin/index.html" title="SSH">
          <i class="none"></i>
        SSH</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-docker-plugin/index.html" title="Docker">
          <i class="none"></i>
        Docker</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-modules/pineapple-infrastructure-test-plugin/index.html" title="Infrastructure Test">
          <i class="none"></i>
        Infrastructure Test</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-fusion-middleware-installation-plugin/index.html" title="Fusion Middleware Installation">
          <i class="none"></i>
        Fusion Middleware Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-weblogic-installation-plugin/index.html" title="WebLogic Installation">
          <i class="none"></i>
        WebLogic Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-weblogic-scripting-tool-plugin/index.html" title="WebLogic Scripting Tool (WLST)">
          <i class="none"></i>
        WebLogic Scripting Tool (WLST)</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-modules/pineapple-weblogic-jmx-plugin/index.html" title="WebLogic JMX">
          <i class="none"></i>
        WebLogic JMX</a>
            </li>
                              <li class="nav-header">API's</li>
                                
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/usage/rest.html" title="REST">
          <i class="none"></i>
        REST</a>
            </li>
                  
      <li>
    
                          <a href="../../../development/plugin-framework.html" title="Plugin Framework">
          <i class="none"></i>
        Plugin Framework</a>
            </li>
                              <li class="nav-header">Additional Information</li>
                                
      <li>
    
                          <a href="http://pineapplesoftware.blogspot.com" class="externalLink" title="The Pineapple Project Blog">
          <i class="none"></i>
        The Pineapple Project Blog</a>
            </li>
                  
      <li>
    
                          <a href="http://exceptiontrail.blogspot.com" class="externalLink" title="Pineapple Exception Trail Blog">
          <i class="none"></i>
        Pineapple Exception Trail Blog</a>
            </li>
                              <li class="nav-header">Project Tools</li>
                                
      <li>
    
                          <a href="https://bintray.com/pineapple/maven/com.alpha.pineapple" class="externalLink" title="Downloads">
          <i class="none"></i>
        Downloads</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                  
      <li>
    
                          <a href="https://github.com/athrane/pineapple/issues" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://pineapple.dev.java.net" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/guides/mini/guide-apt-format.html --><div class="section">
<h2>How-to: Execute hello world script<a name="How-to:_Execute_hello_world_script"></a></h2>
<div class="section">
<h3>Overview<a name="Overview"></a></h3>
<p>This example describes how to define and execute a hello world script.</p>
<p>These steps are needed to configure the plugin to work:</p>
<ul>
<li>Define resource which defines access to the plugin.</li>
<li>Define the module model <tt>local-environment.xml</tt> which defines the execution of the script.</li></ul>
<p>..And finally Pineapple should be invoked to run the script using the module.</p>
<p>For information about how to define resource, credentials and modules, refer to the <a href="../usage/index.html"> plugin usage page.</a> </p></div>
<div class="section">
<h3>Define resource<a name="Define_resource"></a></h3>
<p>To define the resource, first open the resources file at <tt>${user.home}/.pineapple/conf/resources.xml</tt> and add an environment that plugin should be executed in. In this example we intend to use the plugin in an environment named <tt>local-environment</tt>. </p>
<p>The initial environment definition will look like:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot; 
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
  
  &lt;environments&gt;
    &lt;environment id=&quot;local-environment&quot; /&gt;                                                              
  &lt;/environments&gt;
&lt;/configuration&gt;
</pre></div>
<p>Then the resource is defined which enables usage of the plugin in the <tt>local-environment</tt> environment:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot; 
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
  
  &lt;environments&gt;
    &lt;environment id=&quot;local-environment&quot; &gt;
      &lt;resources&gt;
        &lt;resource id=&quot;weblogic-r1035-scriptingtool&quot; plugin-id=&quot;com.alpha.pineapple.plugin.weblogic.scriptingtool&quot; &gt;
          &lt;property key=&quot;weblogic-home&quot; value=&quot;C:\alphabea\weblogic1035&quot; /&gt;
        &lt;/resource&gt;
      &lt;/resources&gt;
    &lt;/environment&gt;                                                              
  &lt;/environments&gt;
&lt;/configuration&gt;        
</pre></div>
<div class="section">
<h4>What the resource attributes defines<a name="What_the_resource_attributes_defines"></a></h4>
<p>The <tt>id</tt> defines a key which is used to reference the resource from any module we may define in the future. Later on when the script execution is defined in a module, the <tt>weblogic-r1035-scriptingtool</tt> ID is used to tell Pineapple that this resource (and thus the WLST plugin plugin) should be used to parse and execute the module model which defines the execution of the WLST script.</p>
<p>The <tt>plugin-id</tt> is the technical part of the definition. It binds the resource to some plugin code. Each plugin is identified with a Java package and the Java package for the WLST plugin is <tt>com.alpha.pineapple.plugin.weblogic.scriptingtool</tt>. </p>
<p>Finally a property named <tt>weblogic-home</tt> is defined on the resource which defines the WebLogic home directory of a WebLogic installation. The WebLogic home directory is used to setup and conduct the execution of WLST.</p></div></div>
<div class="section">
<h3>Define the module <a name="Define_the_module"></a></h3>
<p>Pineapple's unit of work is modules. A module is a self contained unit which can contain models, scripts and binaries. Models serves to specify test cases, deployment of applications, configuration of devices or execution of scripts. </p>
<p>The default directory for modules is <tt>${user.home}/.pineapple/modules</tt> so we will create a module named <tt>weblogic-wlst-example-0.2-hello-world</tt> there. The module for this example will end up with the structure:</p>
<div class="source">
<pre>weblogic-wlst-example-hello-world
 |
 +--- bin
 |     +--- script.py
 |
 +--- models     
       +--- local-environment.xml 
</pre></div></div>
<div class="section">
<h3>Define the module model <tt>local-environment.xml</tt> <a name="Define_the_module_model_local-environment.xml"></a></h3>
<p>The purpose of the model is to configure execution of the script.</p>
<p>The basic module module file looks like:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:wsp=&quot;http://pineapple.dev.java.net/ns/plugin/weblogic_scriptingtool_1_0&quot;  /&gt;
  
  &lt;mmd:model target-resource=&quot;weblogic-r1035-scriptingtool&quot;&gt;
    &lt;mmd:content&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;  
&lt;/mmd:models&gt;    
</pre></div>
<p>..here is the assumption that the defined resource is named <tt>weblogic-r1035-scriptingtool</tt>. </p>
<p>Then the skeleton of script execution model is added:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:wsp=&quot;http://pineapple.dev.java.net/ns/plugin/weblogic_scriptingtool_1_0&quot;  /&gt;
  
  &lt;mmd:model target-resource=&quot;weblogic-r1035-scriptingtool&quot;&gt;
    &lt;mmd:content&gt;
      &lt;wsp:wlst&gt;              
      &lt;/wsp:wlst&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;  
&lt;/mmd:models&gt;    
</pre></div>
<p>The final step is to define the <tt>wlst-script</tt> execution: </p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;mmd:models xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;                 
  xmlns:wsp=&quot;http://pineapple.dev.java.net/ns/plugin/weblogic_scriptingtool_1_0&quot;  /&gt;
  
  &lt;mmd:model target-resource=&quot;weblogic-r1035-scriptingtool&quot;&gt;
    &lt;mmd:content&gt;
      &lt;wsp:wlst&gt;              
        &lt;wsp:wlst-script file=&quot;modulepath:bin\script.py&quot; /&gt;
      &lt;/wsp:wlst&gt;
    &lt;/mmd:content&gt;
  &lt;/mmd:model&gt;  
&lt;/mmd:models&gt;    
</pre></div>
<p>with the mandatory attributes:</p>
<ul>
<li><tt>file</tt> which defines where the WLST scrip is located. The <i>modulepath:</i> expression is resolved to the root directory of the module. </li></ul></div>
<div class="section">
<h3>Add the WLST script to the module<a name="Add_the_WLST_script_to_the_module"></a></h3>
<p>The script is placed in the directory <tt>${module-dir}/bin/script.py</tt> where <tt>${module-dir}</tt> is the module root directory which identifies the module with a unique name and version.</p>
<p>The content of the script:</p>
<div class="source">
<pre>import java.util.Date as Date

def main():   
    print (&quot;Starting hello world: &quot; + Date().toString() + &quot;\n&quot;) 
    print (&quot;Completed hello world: &quot; + Date().toString() + &quot;\n&quot;)

main()          
</pre></div></div>
<div class="section">
<h3>A look at the module and the Pineapple configuration <a name="A_look_at_the_module_and_the_Pineapple_configuration"></a></h3>
<p>The module looks like:</p>
<div class="source">
<pre>weblogic-wlst-example-hello-world
 |
 +--- module.xml (optional)
 |    
 +--- bin
 |     +--- script.py
 |
 +--- models     
       +--- local-environment.xml 
</pre></div>
<div class="section">
<h4><tt>Module.xml</tt> (optional)<a name="Module.xml_optional"></a></h4>
<p>The content of the <tt>module.xml</tt>:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;module xmlns=&quot;http://pineapple.dev.java.net/ns/module_1_0&quot; 
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       
    id=&quot;weblogic-wlst-example&quot; version=&quot;1.0.0&quot;&gt;
&lt;/module&gt;
</pre></div></div>
<div class="section">
<h4><tt>local-environment.xml</tt><a name="local-environment.xml"></a></h4>
<p>Module model for the environment <i>local-environment</i> which is targeted at the resource <tt>weblogic-r1035-scriptingtool</tt> and invokes the script <tt>script.py</tt>:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;mmd:models xmlns:mmd=&quot;http://pineapple.dev.java.net/ns/module_model_1_0&quot;       
        xmlns:wsp=&quot;http://pineapple.dev.java.net/ns/plugin/weblogic_scriptingtool_1_0&quot; &gt;
    &lt;mmd:model target-resource=&quot;weblogic-scriptingtool&quot;&gt;
        &lt;mmd:content&gt;
            &lt;wsp:wlst&gt;              
              &lt;wsp:wlst-script file=&quot;modulepath:bin\script.py&quot; /&gt;
            &lt;/wsp:wlst&gt;
        &lt;/mmd:content&gt;
    &lt;/mmd:model&gt;                
&lt;/mmd:models&gt;   
</pre></div></div>
<div class="section">
<h4><tt>script.py</tt><a name="script.py"></a></h4>
<p>Listed above.</p></div>
<div class="section">
<h4>The <tt>weblogic-r1035-scriptingtool</tt> resource definition<a name="The_weblogic-r1035-scriptingtool_resource_definition"></a></h4>
<p>The resource <tt>weblogic-r1035-scriptingtool</tt> definition in the <tt>resources.xml</tt>:</p>
<div class="source">
<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration xmlns=&quot;http://pineapple.dev.java.net/ns/environment_1_0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
  &lt;environments&gt;
    &lt;environment id=&quot;local-environment&quot;&gt;
          &lt;resources&gt;
        &lt;resource id=&quot;weblogic-r1035-scriptingtool&quot; plugin-id=&quot;com.alpha.pineapple.plugin.weblogic.scriptingtool&quot; &gt;
          &lt;property key=&quot;weblogic-home&quot; value=&quot;C:\alphabea\weblogic1035&quot; /&gt;
        &lt;/resource&gt;
        
        &lt;!-- additional resources goes here... --&gt;
                                                                                                        
      &lt;/resources&gt;                                              
    &lt;/environment&gt;                                                              

      &lt;!-- additional environments goes here... --&gt;
  &lt;/environments&gt;
&lt;/configuration&gt; 
</pre></div></div>
<div class="section">
<h4>The <tt>weblogic-r1035-scriptingtool</tt> credential definition<a name="The_weblogic-r1035-scriptingtool_credential_definition"></a></h4>
<p>Since the resource doesn't defines any reference to a credential, then none is defined in the <tt>credentials.xml</tt> file. </p></div></div>
<div class="section">
<h3>Invoke Pineapple to execute the script <a name="Invoke_Pineapple_to_execute_the_script"></a></h3>
<p>Start your Pineapple client of choice:</p>
<ul>
<li>Select the module named <tt>weblogic-wlst-example-hello-world</tt>.</li>
<li>Select the environment named <tt>local-environment</tt>. </li>
<li>Invoke the <b>deploy-configuration</b> operation toexecute the script.</li></ul></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2017.
          All Rights Reserved.      
                    
      </div>

                          
        
                </div>
    </footer>
  </body>
</html>
