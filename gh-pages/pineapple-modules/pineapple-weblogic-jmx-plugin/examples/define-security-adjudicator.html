<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 28 Sep 2016
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Allan Thrane Andersen" />
    <meta name="Date-Revision-yyyymmdd" content="20160928" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Pineapple WebLogic JMX plugin - How-to: Define the security adjudicator for WebLogic</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Pineapple WebLogic JMX plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="../../../index.html" title="Pineapple Home">
        Pineapple Home</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../../" title="Pineapple modules">
        Pineapple modules</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="../" title="Pineapple WebLogic JMX plugin">
        Pineapple WebLogic JMX plugin</a>
        </li>
      <li class="divider ">/</li>
        <li class="">How-to: Define the security adjudicator for WebLogic</li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 28 Sep 2016</li> 
            
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Project Overview</li>
                                
      <li>
    
                          <a href="../../../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/index.html" title="For Users">
          <i class="none"></i>
        For Users</a>
            </li>
                  
      <li>
    
                          <a href="../../../development/index.html" title="For Developers">
          <i class="none"></i>
        For Developers</a>
            </li>
                  
      <li>
    
                          <a href="../../../usage/terms.html" title="Terms and Conditions">
          <i class="none"></i>
        Terms and Conditions</a>
            </li>
                              <li class="nav-header">Clients</li>
                                
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-standalone-web-client/index.html" title="Standalone Web Application">
          <i class="none"></i>
        Standalone Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/index.html" title="Deployable Web Application">
          <i class="none"></i>
        Deployable Web Application</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-maven-plugin/index.html" title="Maven Plugin">
          <i class="none"></i>
        Maven Plugin</a>
            </li>
                              <li class="nav-header">Plugins</li>
                                
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-agent-plugin/index.html" title="Agent">
          <i class="none"></i>
        Agent</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-composite-execution-plugin/index.html" title="Composite Execution">
          <i class="none"></i>
        Composite Execution</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-ssh-plugin/index.html" title="SSH">
          <i class="none"></i>
        SSH</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-docker-plugin/index.html" title="Docker">
          <i class="none"></i>
        Docker</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-modules/pineapple-infrastructure-test-plugin/index.html" title="Infrastructure Test">
          <i class="none"></i>
        Infrastructure Test</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-jrockit-installation-plugin/index.html" title="JRockit Installation">
          <i class="none"></i>
        JRockit Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-fusion-middleware-installation-plugin/index.html" title="Fusion Middleware Installation">
          <i class="none"></i>
        Fusion Middleware Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-weblogic-installation-plugin/index.html" title="WebLogic Installation">
          <i class="none"></i>
        WebLogic Installation</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-modules/pineapple-weblogic-deployment-plugin/index.html" title="WebLogic Deployment">
          <i class="none"></i>
        WebLogic Deployment</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-plugins/pineapple-weblogic-scripting-tool-plugin/index.html" title="WebLogic Scripting Tool (WLST)">
          <i class="none"></i>
        WebLogic Scripting Tool (WLST)</a>
            </li>
                  
      <li>
    
                          <a href="../../../pineapple-modules/pineapple-weblogic-jmx-plugin/index.html" title="WebLogic JMX">
          <i class="none"></i>
        WebLogic JMX</a>
            </li>
                              <li class="nav-header">API's</li>
                                
      <li>
    
                          <a href="../../../pineapple-applications/pineapple-web-application/pineapple-web-application-war/usage/rest.html" title="REST">
          <i class="none"></i>
        REST</a>
            </li>
                  
      <li>
    
                          <a href="../../../development/plugin-framework.html" title="Plugin Framework">
          <i class="none"></i>
        Plugin Framework</a>
            </li>
                              <li class="nav-header">Additional Information</li>
                                
      <li>
    
                          <a href="http://pineapplesoftware.blogspot.com" class="externalLink" title="The Pineapple Tool Blog">
          <i class="none"></i>
        The Pineapple Tool Blog</a>
            </li>
                  
      <li>
    
                          <a href="http://exceptiontrail.blogspot.com" class="externalLink" title="Pineapple Exception Trail Blog">
          <i class="none"></i>
        Pineapple Exception Trail Blog</a>
            </li>
                              <li class="nav-header">Project Tools</li>
                                
      <li>
    
                          <a href="http://java.net/projects/pineapple/downloads" class="externalLink" title="Downloads">
          <i class="none"></i>
        Downloads</a>
            </li>
                  
      <li>
    
                          <a href="http://java.net/projects/pineapple/sources/svn/show" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                  
      <li>
    
                          <a href="http://java.net/jira/browse/PINEAPPLE" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                  
      <li>
    
                          <a href="http://java.net/projects/pineapple/lists" class="externalLink" title="Mailing Lists">
          <i class="none"></i>
        Mailing Lists</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                        
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="http://maven.apache.org" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/guides/mini/guide-apt-format.html --><div class="section">
<h2>How-to: Define the security adjudicator for WebLogic <a name="How-to:_Define_the_security_adjudicator_for_WebLogic"></a></h2>
<div class="section">
<h3>Overview<a name="Overview"></a></h3>
<p>This example illustrates how the adjudicator in the security configuration should be defined in an Pineapple module for usage with the WebLogic JMX plugin. </p></div>
<div class="section">
<h3>Defining adjudicator<a name="Defining_adjudicator"></a></h3>
<div class="section">
<h4>Creation of &quot;unnamed&quot; adjudicator<a name="Creation_of_unnamed_adjudicator"></a></h4>
<p>A default realm created by WebLogic either by invoking the <tt>weblogic.Server</tt> class to create a domain or using a template will create a default security realm named <b>myrealm</b>. The generated <tt>config.xml</tt> will be defined as: </p>
<div class="source">
<pre>&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;domain xmlns=&quot;http://www.bea.com/ns/weblogic/920/domain&quot; xmlns:sec=&quot;http://www.bea.com/ns/weblogic/90/security&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:wls=&quot;http://www.bea.com/ns/weblogic/90/security/wls&quot; xsi:schemaLocation=&quot;http://www.bea.com/ns/weblogic/90/security/xacml http://www.bea.com/ns/weblogic/90/security/xacml.xsd http://www.bea.com/ns/weblogic/90/security http://www.bea.com/ns/weblogic/90/security.xsd http://www.bea.com/ns/weblogic/920/domain http://www.bea.com/ns/weblogic/920/domain.xsd http://www.bea.com/ns/weblogic/90/security/wls http://www.bea.com/ns/weblogic/90/security/wls.xsd&quot;&gt;
  &lt;name&gt;alphadomain&lt;/name&gt;
  &lt;domain-version&gt;9.2.3.0&lt;/domain-version&gt;
  &lt;security-configuration&gt;
    &lt;name&gt;alphadomain&lt;/name&gt;
    &lt;realm&gt;
      &lt;sec:authentication-provider xsi:type=&quot;wls:default-authenticatorType&quot;&gt;&lt;/sec:authentication-provider&gt;
      &lt;sec:authentication-provider xsi:type=&quot;wls:default-identity-asserterType&quot;&gt;
        &lt;sec:active-type&gt;AuthenticatedUser&lt;/sec:active-type&gt;
      &lt;/sec:authentication-provider&gt;
      &lt;sec:role-mapper xmlns:xac=&quot;http://www.bea.com/ns/weblogic/90/security/xacml&quot; xsi:type=&quot;xac:xacml-role-mapperType&quot;&gt;&lt;/sec:role-mapper&gt;
      &lt;sec:authorizer xmlns:xac=&quot;http://www.bea.com/ns/weblogic/90/security/xacml&quot; xsi:type=&quot;xac:xacml-authorizerType&quot;&gt;&lt;/sec:authorizer&gt;
      &lt;sec:adjudicator xsi:type=&quot;wls:default-adjudicatorType&quot;&gt;&lt;/sec:adjudicator&gt;
      &lt;sec:credential-mapper xsi:type=&quot;wls:default-credential-mapperType&quot;&gt;&lt;/sec:credential-mapper&gt;
      &lt;sec:cert-path-provider xsi:type=&quot;wls:web-logic-cert-path-providerType&quot;&gt;&lt;/sec:cert-path-provider&gt;
      &lt;sec:cert-path-builder&gt;WebLogicCertPathProvider&lt;/sec:cert-path-builder&gt;
      &lt;sec:name&gt;myrealm&lt;/sec:name&gt;
    &lt;/realm&gt;
    &lt;default-realm&gt;myrealm&lt;/default-realm&gt;
    &lt;credential-encrypted&gt;{3DES}lzk5xgJ+NKaLUb8SJm5BUmNVSqa7yAFGEXp5WV2Mz6Pl6gYHVsINZvt+Bm7EDRNpSPXCW5JMA8lJifTPy3pulJ5LbvRlWTVR&lt;/credential-encrypted&gt;
    &lt;node-manager-username&gt;weblogic&lt;/node-manager-username&gt;
    &lt;node-manager-password-encrypted&gt;{3DES}sFVI2zdwIyefey5hsxsGeA==&lt;/node-manager-password-encrypted&gt;
  &lt;/security-configuration&gt;  
        ....    
&lt;/domain&gt;       
</pre></div>
<p>The import part of the configuration is:</p>
<div class="source">
<pre>  &lt;sec:adjudicator xsi:type=&quot;wls:default-adjudicatorType&quot;&gt;&lt;/sec:adjudicator&gt;
</pre></div>
<p>..which defines a adjudicator of the type:</p>
<ul>
<li><tt>default-adjudicatorType</tt></li></ul>
<p>At runtime a WebLogic server will initialize one adjudicator from the above configuration:</p>
<ul>
<li>a adjudicator named <tt>myrealmDefaultAdjudicator</tt></li></ul></div>
<div class="section">
<h4>Making Pineapple cope with the &quot;unnamed&quot; adjudicator <a name="Making_Pineapple_cope_with_the_unnamed_adjudicator"></a></h4>
<p>The shown configuration does NOT pose a problem for Pineapple which can resolve the unnamed adjudicator against the actual runtime adjudicator which exist in WebLogic.</p>
<p>The plugin is able to resolve the adjudicator even though it is unnamed because the security realm object only defines one adjudicator in the schema and in the MBean model. In this situation the name attribute (which is <i>null</i> and <i>myrealmDefaultAdjudicator</i> in the respective models) isn't used to resolve the object in the two models. </p></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2016.
          All Rights Reserved.      
                    
      </div>

                          
        
                </div>
    </footer>
  </body>
</html>
